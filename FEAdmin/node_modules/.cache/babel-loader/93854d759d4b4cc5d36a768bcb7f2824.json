{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\src\\\\app\\\\views\\\\update-happenings\\\\UpdateHappenings.jsx\";\n\nimport { Breadcrumb, Table } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport ModalUpdateHappenings from './modal-update-happenings';\nimport './UpdateHappenings.css';\nimport { getStaff } from './UpdateHappeningsService';\nimport { HomeFilled } from '@ant-design/icons';\nimport { ActionButton } from '../general-settings/TableButton';\nimport moment from 'moment';\nimport AdditionalRequestModal from './AdditionalRequestModal';\nimport { ListStatus } from '../general-settings/setting';\n\nvar UpdateHappenings = function UpdateHappenings() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      staffInfo = _useState2[0],\n      setStaffInfo = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listConcludeData = _useState4[0],\n      setListConcludeData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shouldOpenModalUpdateHappenings = _useState6[0],\n      setShouldOpenModalUpdateHappenings = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      shouldOpenAdditionalRequestModal = _useState8[0],\n      setShouldOpenAdditionalRequestModal = _useState8[1];\n\n  var handleGetListNewStaff = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _res$data;\n\n      var res, _res$data2;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getStaff();\n\n            case 2:\n              res = _context.sent;\n\n              if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.code) === 200) {\n                setListConcludeData(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.data);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleGetListNewStaff() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    handleGetListNewStaff();\n  }, []);\n\n  var openUpdateStatus = function openUpdateStatus() {\n    setShouldOpenModalUpdateHappenings(!shouldOpenModalUpdateHappenings);\n  };\n\n  var openAdditionalRequestModal = function openAdditionalRequestModal() {\n    setShouldOpenAdditionalRequestModal(!shouldOpenAdditionalRequestModal);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30 updateHappenings\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      padding: '0 0 30px 0'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(HomeFilled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/conclude/manage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"Qu\\u1EA3n l\\xFD\")), /*#__PURE__*/React.createElement(Table, {\n    columns: [{\n      key: 'action',\n      title: 'Hành động',\n      width: '10%',\n      render: function render(record) {\n        return /*#__PURE__*/React.createElement(ActionButton, {\n          info: true,\n          view: true,\n          item: record,\n          onSelect: function onSelect(record, method) {\n            if (method === 2) {\n              openAdditionalRequestModal();\n            } else if (method === 3) {\n              setStaffInfo(record);\n              openUpdateStatus();\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }\n        });\n      }\n    }, {\n      key: 'code',\n      title: 'Mã nhân viên',\n      dataIndex: 'code',\n      width: '12%'\n    }, {\n      key: 'fullName',\n      title: 'Họ và tên',\n      dataIndex: 'fullName',\n      width: '15%'\n    }, {\n      key: 'dateOfBirth',\n      title: 'Ngày sinh',\n      width: '10%',\n      render: function render(record) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 37\n          }\n        }, (record === null || record === void 0 ? void 0 : record.dateOfBirth) ? moment(record === null || record === void 0 ? void 0 : record.dateOfBirth).format(\"DD-MM-YYYY\") : \"\"));\n      }\n    }, {\n      key: 'gender',\n      title: 'Giới tính',\n      dataIndex: 'gender',\n      width: '10%'\n    }, {\n      key: 'address',\n      title: 'Địa chỉ',\n      dataIndex: 'address',\n      width: '25%'\n    }, {\n      key: 'status',\n      title: 'Trạng thái',\n      render: function render(record) {\n        return /*#__PURE__*/React.createElement(ListStatus, {\n          record: record,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 45\n          }\n        });\n      }\n    }],\n    dataSource: listConcludeData,\n    pagination: {\n      defaultPageSize: 10,\n      showSizeChanger: true,\n      pageSizeOptions: ['5', '10', '20', '30']\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), shouldOpenAdditionalRequestModal && /*#__PURE__*/React.createElement(AdditionalRequestModal, {\n    open: shouldOpenAdditionalRequestModal,\n    openAdditionalRequestModal: openAdditionalRequestModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), shouldOpenModalUpdateHappenings && /*#__PURE__*/React.createElement(ModalUpdateHappenings, {\n    open: shouldOpenModalUpdateHappenings,\n    staffInfo: staffInfo,\n    listConcludeData: listConcludeData,\n    openUpdateStatus: openUpdateStatus,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }));\n};\n\nexport default UpdateHappenings;","map":{"version":3,"sources":["D:/DAn/FEAmin/QLNV/src/app/views/update-happenings/UpdateHappenings.jsx"],"names":["Breadcrumb","Table","React","useEffect","useState","ModalUpdateHappenings","getStaff","HomeFilled","ActionButton","moment","AdditionalRequestModal","ListStatus","UpdateHappenings","staffInfo","setStaffInfo","listConcludeData","setListConcludeData","shouldOpenModalUpdateHappenings","setShouldOpenModalUpdateHappenings","shouldOpenAdditionalRequestModal","setShouldOpenAdditionalRequestModal","handleGetListNewStaff","res","data","code","openUpdateStatus","openAdditionalRequestModal","padding","key","title","width","render","record","method","dataIndex","dateOfBirth","format","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","sourcesContent":["import { Breadcrumb, Table } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ModalUpdateHappenings from './modal-update-happenings';\r\nimport './UpdateHappenings.css';\r\nimport { getStaff } from './UpdateHappeningsService';\r\nimport { HomeFilled } from '@ant-design/icons';\r\nimport { ActionButton } from '../general-settings/TableButton';\r\nimport moment from 'moment';\r\nimport AdditionalRequestModal from './AdditionalRequestModal';\r\nimport { ListStatus } from '../general-settings/setting';\r\n\r\nconst UpdateHappenings = () => {\r\n    const [staffInfo, setStaffInfo] = useState({});\r\n    const [listConcludeData, setListConcludeData] = useState([]);\r\n    const [shouldOpenModalUpdateHappenings, setShouldOpenModalUpdateHappenings] = useState(false);\r\n    const [shouldOpenAdditionalRequestModal, setShouldOpenAdditionalRequestModal] = useState(false);\r\n\r\n    const handleGetListNewStaff = async () => {\r\n        const res = await getStaff();\r\n        if (res?.data?.code === 200) {\r\n            setListConcludeData(res?.data?.data);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        handleGetListNewStaff();\r\n    }, []);\r\n\r\n    const openUpdateStatus = () => {\r\n        setShouldOpenModalUpdateHappenings(!shouldOpenModalUpdateHappenings);\r\n    };\r\n\r\n    const openAdditionalRequestModal = () => {\r\n        setShouldOpenAdditionalRequestModal(!shouldOpenAdditionalRequestModal);\r\n    };\r\n\r\n    return (\r\n        <div className=\"m-sm-30 updateHappenings\">\r\n            <Breadcrumb style={{ padding: '0 0 30px 0' }}>\r\n                <Breadcrumb.Item href=\"/\">\r\n                    <HomeFilled />\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item href=\"/conclude/manage\">\r\n                    <span>Quản lý nhân viên</span>\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item>Quản lý</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n\r\n            <Table\r\n                columns={[\r\n                    {\r\n                        key: 'action',\r\n                        title: 'Hành động',\r\n                        width: '10%',\r\n                        render: (record) => {\r\n                            return (\r\n                                <ActionButton\r\n                                    info\r\n                                    view\r\n                                    item={record}\r\n                                    onSelect={(record, method) => {\r\n                                        if (method === 2) {\r\n                                            openAdditionalRequestModal()\r\n                                        } else if (method === 3) {\r\n                                            setStaffInfo(record);\r\n                                            openUpdateStatus();\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            );\r\n                        },\r\n                    },\r\n                    { key: 'code', title: 'Mã nhân viên', dataIndex: 'code', width: '12%' },\r\n                    { key: 'fullName', title: 'Họ và tên', dataIndex: 'fullName', width: '15%' },\r\n                    {\r\n                        key: 'dateOfBirth', title: 'Ngày sinh', width: '10%',\r\n                        render: (record) => {\r\n                            return (\r\n                                <div>\r\n                                    <p>{record?.dateOfBirth ? moment(record?.dateOfBirth).format(\"DD-MM-YYYY\") : \"\"}</p>\r\n                                </div>\r\n                            );\r\n                        },\r\n                    },\r\n                    { key: 'gender', title: 'Giới tính', dataIndex: 'gender', width: '10%' },\r\n                    { key: 'address', title: 'Địa chỉ', dataIndex: 'address', width: '25%' },\r\n                    {\r\n                        key: 'status',\r\n                        title: 'Trạng thái',\r\n                        render: (record) => <ListStatus record={record} />\r\n                    },\r\n                ]}\r\n                dataSource={listConcludeData}\r\n                pagination={{\r\n                    defaultPageSize: 10,\r\n                    showSizeChanger: true,\r\n                    pageSizeOptions: ['5', '10', '20', '30'],\r\n                }}\r\n            />\r\n\r\n            {shouldOpenAdditionalRequestModal && (\r\n                <AdditionalRequestModal\r\n                    open={shouldOpenAdditionalRequestModal}\r\n                    openAdditionalRequestModal={openAdditionalRequestModal}\r\n                />\r\n            )}\r\n\r\n            {shouldOpenModalUpdateHappenings && (\r\n                <ModalUpdateHappenings\r\n                    open={shouldOpenModalUpdateHappenings}\r\n                    staffInfo={staffInfo}\r\n                    listConcludeData={listConcludeData}\r\n                    openUpdateStatus={openUpdateStatus}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UpdateHappenings;\r\n"]},"metadata":{},"sourceType":"module"}