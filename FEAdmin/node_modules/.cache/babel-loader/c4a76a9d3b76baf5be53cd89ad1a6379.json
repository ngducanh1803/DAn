{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\src\\\\app\\\\views\\\\create-staff\\\\CreateStaff.jsx\";\n\nimport { DeleteFilled, EditFilled, EyeFilled, HomeFilled } from '@ant-design/icons';\nimport { Breadcrumb, Button, Form, Table, Tooltip } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport Styled from './CreateStaffStyled';\nimport DialogStaff from './dialog-staff';\nimport DialogStaffInfo from './dialog-staff-info'; // import data from '../../db.json';\n\nimport DialogDeleteStaff from './dialog-delete-staff';\nimport { getStaff, getTotalItem } from \"./CreateStaffService\";\nimport SearchStaff from './Search';\nimport { ListStatus } from '../general-settings/setting';\n\nvar CreateStaff = function CreateStaff() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listNewStaff = _useState2[0],\n      setListNewStaff = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dataInitial = _useState4[0],\n      setDataInitial = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchInfo = _useState6[0],\n      setSearchInfo = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      shouldOpenCreateStaffDialog = _useState8[0],\n      setShouldOpenCreateStaffDialog = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      shouldOpenStaffInfoDialog = _useState10[0],\n      setShouldOpenStaffInfoDialog = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      shouldOpenDeleteStaffDialog = _useState12[0],\n      setShouldOpenDeleteStaffDialog = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      employeeId = _useState14[0],\n      setEmployeeId = _useState14[1];\n\n  var _useState15 = useState(1),\n      _useState16 = _slicedToArray(_useState15, 2),\n      page = _useState16[0],\n      setPage = _useState16[1];\n\n  var _useState17 = useState(10),\n      _useState18 = _slicedToArray(_useState17, 2),\n      pageSize = _useState18[0],\n      setPageSize = _useState18[1];\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      total = _useState20[0],\n      setTotal = _useState20[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var handleGetListNewStaff = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(current, pageSize) {\n      var _res$data;\n\n      var res, _res$data2, _res$data3;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getStaff(current, pageSize);\n\n            case 2:\n              res = _context.sent;\n\n              if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.code) === 200) {\n                setListNewStaff(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.data);\n                setDataInitial(res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.data);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleGetListNewStaff(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    handleGetListNewStaff(page, pageSize);\n  }, [page]);\n\n  var openCreateStaffDialog = function openCreateStaffDialog() {\n    setShouldOpenCreateStaffDialog(true);\n  };\n\n  var onClickDetail = function onClickDetail(record) {\n    setEmployeeId(record.employeeId);\n    setShouldOpenStaffInfoDialog(true);\n  };\n\n  var handleClose = function handleClose() {\n    setShouldOpenCreateStaffDialog(false);\n    setShouldOpenStaffInfoDialog(false);\n    setShouldOpenDeleteStaffDialog(false);\n    form.resetFields();\n    setEmployeeId(0);\n  };\n\n  var onClickEdit = function onClickEdit(record) {\n    setEmployeeId(record.employeeId);\n    setShouldOpenCreateStaffDialog(true);\n  };\n\n  var onClickDelete = function onClickDelete(record) {\n    setEmployeeId(record.employeeId);\n    setShouldOpenDeleteStaffDialog(true);\n  };\n\n  var handleSearch = function handleSearch() {\n    var dataSearch = dataInitial.filter(function (item) {\n      return item.code.includes(searchInfo) || item.fullName.includes(searchInfo) || item.email.includes(searchInfo) || item.phone.includes(searchInfo) || item.citizenId.includes(searchInfo);\n    });\n    setListNewStaff(dataSearch);\n  };\n\n  useEffect(function () {\n    handleSearch();\n  }, [searchInfo]);\n\n  var handleGetTotalItem = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _res$data4;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getTotalItem();\n\n            case 2:\n              res = _context2.sent;\n              setTotal(res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.data);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleGetTotalItem() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    handleGetTotalItem();\n  }, []);\n\n  var handlePaginationChange = function handlePaginationChange(page, pageSize) {\n    setPage(page);\n    setPageSize(pageSize);\n  };\n\n  return /*#__PURE__*/React.createElement(Styled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      padding: '0 0 30px 0'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HomeFilled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/conclude/manage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA1o m\\u1EDBi\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"set-space-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"middle\",\n    onClick: openCreateStaffDialog,\n    className: \"btn-add-new\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA0O M\\u1EDAI\"), /*#__PURE__*/React.createElement(SearchStaff, {\n    searchInfo: searchInfo,\n    setSearchInfo: setSearchInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  })), shouldOpenCreateStaffDialog && /*#__PURE__*/React.createElement(DialogStaff, {\n    open: shouldOpenCreateStaffDialog,\n    handleClose: handleClose,\n    employeeId: employeeId,\n    setEmployeeId: setEmployeeId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }), shouldOpenStaffInfoDialog && /*#__PURE__*/React.createElement(DialogStaffInfo, {\n    open: shouldOpenStaffInfoDialog,\n    handleClose: handleClose,\n    employeeId: employeeId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }), shouldOpenDeleteStaffDialog && /*#__PURE__*/React.createElement(DialogDeleteStaff, {\n    open: shouldOpenDeleteStaffDialog,\n    handleClose: handleClose,\n    employeeId: employeeId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    dataSource: listNewStaff,\n    columns: [{\n      key: 'action',\n      title: 'Thao tác',\n      dataIndex: 'action',\n      align: 'center',\n      width: '10%',\n      render: function render(text, record) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"createStaff-action\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"ch\\u1EC9nh s\\u1EEDa\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(EditFilled, {\n          onClick: function onClick() {\n            return onClickEdit(record);\n          },\n          className: \"editFilled-icon \".concat((record.status === 1 || record.status === 2 || record.status === 4 || record.status === 6) && \"active\"),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"th\\xF4ng tin nh\\xE2n vi\\xEAn\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(EyeFilled, {\n          onClick: function onClick() {\n            return onClickDetail(record);\n          },\n          className: \"eyeFilled-icon \".concat((record.status === 1 || record.status === 3) && \"active\"),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"x\\xF3a\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(DeleteFilled, {\n          onClick: function onClick() {\n            return onClickDelete(record);\n          },\n          className: \"deleteFilled-icon \".concat(record.status === 1 && 'active'),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 45\n          }\n        })));\n      }\n    }, {\n      key: 'code',\n      title: 'Mã nhân viên',\n      dataIndex: 'code',\n      width: '12%'\n    }, {\n      key: 'fullName',\n      title: 'Tên nhân viên',\n      dataIndex: 'fullName',\n      width: '16%'\n    }, {\n      key: 'email',\n      title: 'Email',\n      dataIndex: 'email',\n      width: '16%'\n    }, {\n      key: 'phone',\n      title: 'Số điện thoại',\n      dataIndex: 'phone',\n      width: '16%'\n    }, {\n      key: 'citizenId',\n      title: 'Mã CCCD/CMT',\n      dataIndex: 'citizenId',\n      width: '16%'\n    }, {\n      key: 'status',\n      title: 'Trạng thái',\n      width: '14%',\n      render: function render(record) {\n        return /*#__PURE__*/React.createElement(ListStatus, {\n          record: record,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 49\n          }\n        });\n      }\n    }],\n    pagination: {\n      current: page,\n      pageSize: pageSize,\n      total: total,\n      onChange: handlePaginationChange,\n      showSizeChanger: true,\n      defaultPageSize: 10,\n      pageSizeOptions: ['5', '10', '20']\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default CreateStaff;","map":{"version":3,"sources":["D:/DAn/FEAmin/QLNV/src/app/views/create-staff/CreateStaff.jsx"],"names":["DeleteFilled","EditFilled","EyeFilled","HomeFilled","Breadcrumb","Button","Form","Table","Tooltip","React","useEffect","useState","Styled","DialogStaff","DialogStaffInfo","DialogDeleteStaff","getStaff","getTotalItem","SearchStaff","ListStatus","CreateStaff","listNewStaff","setListNewStaff","dataInitial","setDataInitial","searchInfo","setSearchInfo","shouldOpenCreateStaffDialog","setShouldOpenCreateStaffDialog","shouldOpenStaffInfoDialog","setShouldOpenStaffInfoDialog","shouldOpenDeleteStaffDialog","setShouldOpenDeleteStaffDialog","employeeId","setEmployeeId","page","setPage","pageSize","setPageSize","total","setTotal","useForm","form","handleGetListNewStaff","current","res","data","code","openCreateStaffDialog","onClickDetail","record","handleClose","resetFields","onClickEdit","onClickDelete","handleSearch","dataSearch","filter","item","includes","fullName","email","phone","citizenId","handleGetTotalItem","handlePaginationChange","padding","key","title","dataIndex","align","width","render","text","status","onChange","showSizeChanger","defaultPageSize","pageSizeOptions"],"mappings":";;;;;;;AAAA,SACIA,YADJ,EAEIC,UAFJ,EAGIC,SAHJ,EAIIC,UAJJ,QAKO,mBALP;AAMA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,IAA7B,EAAmCC,KAAnC,EAA0CC,OAA1C,QAAyD,MAAzD;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,eAAP,MAA4B,qBAA5B,C,CACA;;AACA,OAAOC,iBAAP,MAA8B,uBAA9B;AACA,SAASC,QAAT,EAAmBC,YAAnB,QAAuC,sBAAvC;AACA,OAAOC,WAAP,MAAwB,UAAxB;AACA,SAASC,UAAT,QAA2B,6BAA3B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,kBACkBT,QAAQ,CAAC,EAAD,CAD1B;AAAA;AAAA,MACfU,YADe;AAAA,MACDC,eADC;;AAAA,mBAEgBX,QAAQ,CAAC,EAAD,CAFxB;AAAA;AAAA,MAEfY,WAFe;AAAA,MAEFC,cAFE;;AAAA,mBAGcb,QAAQ,CAAC,EAAD,CAHtB;AAAA;AAAA,MAGfc,UAHe;AAAA,MAGHC,aAHG;;AAAA,mBAIgDf,QAAQ,CAAC,KAAD,CAJxD;AAAA;AAAA,MAIfgB,2BAJe;AAAA,MAIcC,8BAJd;;AAAA,mBAK4CjB,QAAQ,CAAC,KAAD,CALpD;AAAA;AAAA,MAKfkB,yBALe;AAAA,MAKYC,4BALZ;;AAAA,oBAMgDnB,QAAQ,CAAC,KAAD,CANxD;AAAA;AAAA,MAMfoB,2BANe;AAAA,MAMcC,8BANd;;AAAA,oBAOcrB,QAAQ,CAAC,CAAD,CAPtB;AAAA;AAAA,MAOfsB,UAPe;AAAA,MAOHC,aAPG;;AAAA,oBAQEvB,QAAQ,CAAC,CAAD,CARV;AAAA;AAAA,MAQfwB,IARe;AAAA,MAQTC,OARS;;AAAA,oBASUzB,QAAQ,CAAC,EAAD,CATlB;AAAA;AAAA,MASf0B,QATe;AAAA,MASLC,WATK;;AAAA,oBAUI3B,QAAQ,CAAC,CAAD,CAVZ;AAAA;AAAA,MAUf4B,KAVe;AAAA,MAURC,QAVQ;;AAAA,sBAYPlC,IAAI,CAACmC,OAAL,EAZO;AAAA;AAAA,MAYfC,IAZe;;AActB,MAAMC,qBAAqB;AAAA,wEAAG,iBAAOC,OAAP,EAAgBP,QAAhB;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAERrB,QAAQ,CAAC4B,OAAD,EAAUP,QAAV,CAFA;;AAAA;AAEpBQ,cAAAA,GAFoB;;AAG1B,kBAAI,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,yBAAAA,GAAG,CAAEC,IAAL,wDAAWC,IAAX,MAAoB,GAAxB,EAA6B;AACzBzB,gBAAAA,eAAe,CAACuB,GAAD,aAACA,GAAD,qCAACA,GAAG,CAAEC,IAAN,+CAAC,WAAWA,IAAZ,CAAf;AACAtB,gBAAAA,cAAc,CAACqB,GAAD,aAACA,GAAD,qCAACA,GAAG,CAAEC,IAAN,+CAAC,WAAWA,IAAZ,CAAd;AACH;;AANyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAArBH,qBAAqB;AAAA;AAAA;AAAA,KAA3B;;AASAjC,EAAAA,SAAS,CAAC,YAAM;AACZiC,IAAAA,qBAAqB,CAACR,IAAD,EAAOE,QAAP,CAArB;AACH,GAFQ,EAEN,CAACF,IAAD,CAFM,CAAT;;AAIA,MAAMa,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAChCpB,IAAAA,8BAA8B,CAAC,IAAD,CAA9B;AACH,GAFD;;AAIA,MAAMqB,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAAY;AAC9BhB,IAAAA,aAAa,CAACgB,MAAM,CAACjB,UAAR,CAAb;AACAH,IAAAA,4BAA4B,CAAC,IAAD,CAA5B;AACH,GAHD;;AAKA,MAAMqB,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBvB,IAAAA,8BAA8B,CAAC,KAAD,CAA9B;AACAE,IAAAA,4BAA4B,CAAC,KAAD,CAA5B;AACAE,IAAAA,8BAA8B,CAAC,KAAD,CAA9B;AACAU,IAAAA,IAAI,CAACU,WAAL;AACAlB,IAAAA,aAAa,CAAC,CAAD,CAAb;AACH,GAND;;AAQA,MAAMmB,WAAW,GAAG,SAAdA,WAAc,CAACH,MAAD,EAAY;AAC5BhB,IAAAA,aAAa,CAACgB,MAAM,CAACjB,UAAR,CAAb;AACAL,IAAAA,8BAA8B,CAAC,IAAD,CAA9B;AACH,GAHD;;AAKA,MAAM0B,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,MAAD,EAAY;AAC9BhB,IAAAA,aAAa,CAACgB,MAAM,CAACjB,UAAR,CAAb;AACAD,IAAAA,8BAA8B,CAAC,IAAD,CAA9B;AACH,GAHD;;AAKA,MAAMuB,YAAY,GAAG,SAAfA,YAAe,GAAM;AAEvB,QAAMC,UAAU,GAAGjC,WAAW,CAACkC,MAAZ,CAAmB,UAAAC,IAAI;AAAA,aACtCA,IAAI,CAACX,IAAL,CAAUY,QAAV,CAAmBlC,UAAnB,KACAiC,IAAI,CAACE,QAAL,CAAcD,QAAd,CAAuBlC,UAAvB,CADA,IAEAiC,IAAI,CAACG,KAAL,CAAWF,QAAX,CAAoBlC,UAApB,CAFA,IAGAiC,IAAI,CAACI,KAAL,CAAWH,QAAX,CAAoBlC,UAApB,CAHA,IAIAiC,IAAI,CAACK,SAAL,CAAeJ,QAAf,CAAwBlC,UAAxB,CALsC;AAAA,KAAvB,CAAnB;AAQAH,IAAAA,eAAe,CAACkC,UAAD,CAAf;AACH,GAXD;;AAaA9C,EAAAA,SAAS,CAAC,YAAM;AACZ6C,IAAAA,YAAY;AACf,GAFQ,EAEN,CAAC9B,UAAD,CAFM,CAAT;;AAIA,MAAMuC,kBAAkB;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACL/C,YAAY,EADP;;AAAA;AACjB4B,cAAAA,GADiB;AAEvBL,cAAAA,QAAQ,CAACK,GAAD,aAACA,GAAD,qCAACA,GAAG,CAAEC,IAAN,+CAAC,WAAWA,IAAZ,CAAR;;AAFuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAlBkB,kBAAkB;AAAA;AAAA;AAAA,KAAxB;;AAKAtD,EAAAA,SAAS,CAAC,YAAM;AACZsD,IAAAA,kBAAkB;AACrB,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAC9B,IAAD,EAAOE,QAAP,EAAoB;AAC/CD,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,IAAAA,WAAW,CAACD,QAAD,CAAX;AACH,GAHD;;AAKA,sBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAE6B,MAAAA,OAAO,EAAE;AAAX,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,IAAI,EAAC,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,UAAD,CAAY,IAAZ;AAAiB,IAAA,IAAI,EAAC,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,CAJJ,eAOI,oBAAC,UAAD,CAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAPJ,CADJ,eAWI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAElB,qBAA/B;AAAsD,IAAA,SAAS,EAAC,aAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI,oBAAC,WAAD;AAAa,IAAA,UAAU,EAAEvB,UAAzB;AAAqC,IAAA,aAAa,EAAEC,aAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAXJ,EAeKC,2BAA2B,iBACxB,oBAAC,WAAD;AACI,IAAA,IAAI,EAAEA,2BADV;AAEI,IAAA,WAAW,EAAEwB,WAFjB;AAGI,IAAA,UAAU,EAAElB,UAHhB;AAII,IAAA,aAAa,EAAEC,aAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBR,EAuBKL,yBAAyB,iBACtB,oBAAC,eAAD;AACI,IAAA,IAAI,EAAEA,yBADV;AAEI,IAAA,WAAW,EAAEsB,WAFjB;AAGI,IAAA,UAAU,EAAElB,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBR,EA+BKF,2BAA2B,iBACxB,oBAAC,iBAAD;AACI,IAAA,IAAI,EAAEA,2BADV;AAEI,IAAA,WAAW,EAAEoB,WAFjB;AAGI,IAAA,UAAU,EAAElB,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCR,eAuCI,oBAAC,KAAD;AACI,IAAA,UAAU,EAAEZ,YADhB;AAEI,IAAA,OAAO,EAAE,CACL;AACI8C,MAAAA,GAAG,EAAE,QADT;AAEIC,MAAAA,KAAK,EAAE,UAFX;AAGIC,MAAAA,SAAS,EAAE,QAHf;AAIIC,MAAAA,KAAK,EAAE,QAJX;AAKIC,MAAAA,KAAK,EAAE,KALX;AAMIC,MAAAA,MAAM,EAAE,gBAACC,IAAD,EAAOvB,MAAP,EAAkB;AACtB,4BACI;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEI,oBAAC,OAAD;AAAS,UAAA,SAAS,EAAC,QAAnB;AAA4B,UAAA,KAAK,EAAC,qBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,UAAD;AACI,UAAA,OAAO,EAAE;AAAA,mBAAMG,WAAW,CAACH,MAAD,CAAjB;AAAA,WADb;AAEI,UAAA,SAAS,4BAAqB,CAACA,MAAM,CAACwB,MAAP,KAAkB,CAAlB,IAAuBxB,MAAM,CAACwB,MAAP,KAAkB,CAAzC,IAA8CxB,MAAM,CAACwB,MAAP,KAAkB,CAAhE,IAAqExB,MAAM,CAACwB,MAAP,KAAkB,CAAxF,KAA8F,QAAnH,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAFJ,eASI,oBAAC,OAAD;AAAS,UAAA,SAAS,EAAC,QAAnB;AAA4B,UAAA,KAAK,EAAC,8BAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,SAAD;AACI,UAAA,OAAO,EAAE;AAAA,mBAAMzB,aAAa,CAACC,MAAD,CAAnB;AAAA,WADb;AAEI,UAAA,SAAS,2BAAoB,CAACA,MAAM,CAACwB,MAAP,KAAkB,CAAlB,IAAuBxB,MAAM,CAACwB,MAAP,KAAkB,CAA1C,KAAgD,QAApE,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CATJ,eAgBI,oBAAC,OAAD;AAAS,UAAA,SAAS,EAAC,QAAnB;AAA4B,UAAA,KAAK,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,YAAD;AACI,UAAA,OAAO,EAAE;AAAA,mBAAMpB,aAAa,CAACJ,MAAD,CAAnB;AAAA,WADb;AAEI,UAAA,SAAS,8BAAwBA,MAAM,CAACwB,MAAP,KAAkB,CAAnB,IAAyB,QAAhD,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAhBJ,CADJ;AAyBH;AAhCL,KADK,EAmCL;AAAEP,MAAAA,GAAG,EAAE,MAAP;AAAeC,MAAAA,KAAK,EAAE,cAAtB;AAAsCC,MAAAA,SAAS,EAAE,MAAjD;AAAyDE,MAAAA,KAAK,EAAE;AAAhE,KAnCK,EAoCL;AAAEJ,MAAAA,GAAG,EAAE,UAAP;AAAmBC,MAAAA,KAAK,EAAE,eAA1B;AAA2CC,MAAAA,SAAS,EAAE,UAAtD;AAAkEE,MAAAA,KAAK,EAAE;AAAzE,KApCK,EAqCL;AAAEJ,MAAAA,GAAG,EAAE,OAAP;AAAgBC,MAAAA,KAAK,EAAE,OAAvB;AAAgCC,MAAAA,SAAS,EAAE,OAA3C;AAAoDE,MAAAA,KAAK,EAAE;AAA3D,KArCK,EAsCL;AAAEJ,MAAAA,GAAG,EAAE,OAAP;AAAgBC,MAAAA,KAAK,EAAE,eAAvB;AAAwCC,MAAAA,SAAS,EAAE,OAAnD;AAA4DE,MAAAA,KAAK,EAAE;AAAnE,KAtCK,EAuCL;AAAEJ,MAAAA,GAAG,EAAE,WAAP;AAAoBC,MAAAA,KAAK,EAAE,aAA3B;AAA0CC,MAAAA,SAAS,EAAE,WAArD;AAAkEE,MAAAA,KAAK,EAAE;AAAzE,KAvCK,EAwCL;AACIJ,MAAAA,GAAG,EAAE,QADT;AAEIC,MAAAA,KAAK,EAAE,YAFX;AAGIG,MAAAA,KAAK,EAAE,KAHX;AAIIC,MAAAA,MAAM,EAAE,gBAACtB,MAAD;AAAA,4BAAY,oBAAC,UAAD;AAAY,UAAA,MAAM,EAAEA,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAZ;AAAA;AAJZ,KAxCK,CAFb;AAiDI,IAAA,UAAU,EAAE;AACRN,MAAAA,OAAO,EAAET,IADD;AAERE,MAAAA,QAAQ,EAAEA,QAFF;AAGRE,MAAAA,KAAK,EAAEA,KAHC;AAIRoC,MAAAA,QAAQ,EAAEV,sBAJF;AAKRW,MAAAA,eAAe,EAAE,IALT;AAMRC,MAAAA,eAAe,EAAE,EANT;AAORC,MAAAA,eAAe,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ;AAPT,KAjDhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCJ,CADJ,CADJ;AAuGH,CA5LD;;AA8LA,eAAe1D,WAAf","sourcesContent":["import {\r\n    DeleteFilled,\r\n    EditFilled,\r\n    EyeFilled,\r\n    HomeFilled,\r\n} from '@ant-design/icons';\r\nimport { Breadcrumb, Button, Form, Table, Tooltip } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Styled from './CreateStaffStyled';\r\nimport DialogStaff from './dialog-staff';\r\nimport DialogStaffInfo from './dialog-staff-info';\r\n// import data from '../../db.json';\r\nimport DialogDeleteStaff from './dialog-delete-staff';\r\nimport { getStaff, getTotalItem } from \"./CreateStaffService\";\r\nimport SearchStaff from './Search';\r\nimport { ListStatus } from '../general-settings/setting';\r\n\r\nconst CreateStaff = () => {\r\n    const [listNewStaff, setListNewStaff] = useState([]);\r\n    const [dataInitial, setDataInitial] = useState([])\r\n    const [searchInfo, setSearchInfo] = useState(\"\")\r\n    const [shouldOpenCreateStaffDialog, setShouldOpenCreateStaffDialog] = useState(false);\r\n    const [shouldOpenStaffInfoDialog, setShouldOpenStaffInfoDialog] = useState(false);\r\n    const [shouldOpenDeleteStaffDialog, setShouldOpenDeleteStaffDialog] = useState(false);\r\n    const [employeeId, setEmployeeId] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n    const [pageSize, setPageSize] = useState(10);\r\n    const [total, setTotal] = useState(0);\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const handleGetListNewStaff = async (current, pageSize) => {\r\n\r\n        const res = await getStaff(current, pageSize)\r\n        if (res?.data?.code === 200) {\r\n            setListNewStaff(res?.data?.data)\r\n            setDataInitial(res?.data?.data)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleGetListNewStaff(page, pageSize);\r\n    }, [page])\r\n\r\n    const openCreateStaffDialog = () => {\r\n        setShouldOpenCreateStaffDialog(true);\r\n    };\r\n\r\n    const onClickDetail = (record) => {\r\n        setEmployeeId(record.employeeId);\r\n        setShouldOpenStaffInfoDialog(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setShouldOpenCreateStaffDialog(false);\r\n        setShouldOpenStaffInfoDialog(false);\r\n        setShouldOpenDeleteStaffDialog(false);\r\n        form.resetFields();\r\n        setEmployeeId(0)\r\n    }\r\n\r\n    const onClickEdit = (record) => {\r\n        setEmployeeId(record.employeeId);\r\n        setShouldOpenCreateStaffDialog(true);\r\n    };\r\n\r\n    const onClickDelete = (record) => {\r\n        setEmployeeId(record.employeeId);\r\n        setShouldOpenDeleteStaffDialog(true);\r\n    }\r\n\r\n    const handleSearch = () => {\r\n\r\n        const dataSearch = dataInitial.filter(item => (\r\n            item.code.includes(searchInfo) ||\r\n            item.fullName.includes(searchInfo) ||\r\n            item.email.includes(searchInfo) ||\r\n            item.phone.includes(searchInfo) ||\r\n            item.citizenId.includes(searchInfo)\r\n        ))\r\n\r\n        setListNewStaff(dataSearch);\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleSearch();\r\n    }, [searchInfo])\r\n\r\n    const handleGetTotalItem = async () => {\r\n        const res = await getTotalItem()\r\n        setTotal(res?.data?.data)\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleGetTotalItem()\r\n    }, [])\r\n\r\n    const handlePaginationChange = (page, pageSize) => {\r\n        setPage(page);\r\n        setPageSize(pageSize);\r\n    };\r\n\r\n    return (\r\n        <Styled>\r\n            <div className=\"m-sm-30\">\r\n                <Breadcrumb style={{ padding: '0 0 30px 0' }}>\r\n                    <Breadcrumb.Item href=\"/\">\r\n                        <HomeFilled />\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/conclude/manage\">\r\n                        <span>Quản lý nhân viên</span>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>Tạo mới</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                <div className='set-space-between'>\r\n                    <Button size=\"middle\" onClick={openCreateStaffDialog} className=\"btn-add-new\">TẠO MỚI</Button>\r\n                    <SearchStaff searchInfo={searchInfo} setSearchInfo={setSearchInfo} />\r\n                </div>\r\n                {shouldOpenCreateStaffDialog && (\r\n                    <DialogStaff\r\n                        open={shouldOpenCreateStaffDialog}\r\n                        handleClose={handleClose}\r\n                        employeeId={employeeId}\r\n                        setEmployeeId={setEmployeeId}\r\n                    />\r\n                )}\r\n                {shouldOpenStaffInfoDialog && (\r\n                    <DialogStaffInfo\r\n                        open={shouldOpenStaffInfoDialog}\r\n                        handleClose={handleClose}\r\n                        employeeId={employeeId}\r\n                    />\r\n                )}\r\n\r\n                {shouldOpenDeleteStaffDialog && (\r\n                    <DialogDeleteStaff\r\n                        open={shouldOpenDeleteStaffDialog}\r\n                        handleClose={handleClose}\r\n                        employeeId={employeeId}\r\n                    />\r\n                )}\r\n\r\n                <Table\r\n                    dataSource={listNewStaff}\r\n                    columns={[\r\n                        {\r\n                            key: 'action',\r\n                            title: 'Thao tác',\r\n                            dataIndex: 'action',\r\n                            align: 'center',\r\n                            width: '10%',\r\n                            render: (text, record) => {\r\n                                return (\r\n                                    <div className='createStaff-action' >\r\n\r\n                                        <Tooltip placement=\"bottom\" title=\"chỉnh sửa\">\r\n                                            <EditFilled\r\n                                                onClick={() => onClickEdit(record)}\r\n                                                className={`editFilled-icon ${(record.status === 1 || record.status === 2 || record.status === 4 || record.status === 6) && \"active\"}`}\r\n                                            />\r\n                                        </Tooltip>\r\n\r\n                                        <Tooltip placement=\"bottom\" title=\"thông tin nhân viên\">\r\n                                            <EyeFilled\r\n                                                onClick={() => onClickDetail(record)}\r\n                                                className={`eyeFilled-icon ${(record.status === 1 || record.status === 3) && \"active\"}`}\r\n                                            />\r\n                                        </Tooltip>\r\n\r\n                                        <Tooltip placement=\"bottom\" title=\"xóa\">\r\n                                            <DeleteFilled\r\n                                                onClick={() => onClickDelete(record)}\r\n                                                className={`deleteFilled-icon ${(record.status === 1) && 'active'}`}\r\n                                            />\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                );\r\n                            },\r\n                        },\r\n                        { key: 'code', title: 'Mã nhân viên', dataIndex: 'code', width: '12%' },\r\n                        { key: 'fullName', title: 'Tên nhân viên', dataIndex: 'fullName', width: '16%' },\r\n                        { key: 'email', title: 'Email', dataIndex: 'email', width: '16%' },\r\n                        { key: 'phone', title: 'Số điện thoại', dataIndex: 'phone', width: '16%' },\r\n                        { key: 'citizenId', title: 'Mã CCCD/CMT', dataIndex: 'citizenId', width: '16%' },\r\n                        {\r\n                            key: 'status',\r\n                            title: 'Trạng thái',\r\n                            width: '14%',\r\n                            render: (record) => <ListStatus record={record} />\r\n                        },\r\n                    ]}\r\n                    pagination={{\r\n                        current: page,\r\n                        pageSize: pageSize,\r\n                        total: total,\r\n                        onChange: handlePaginationChange,\r\n                        showSizeChanger: true,\r\n                        defaultPageSize: 10,\r\n                        pageSizeOptions: ['5', '10', '20'],\r\n                    }}\r\n                />\r\n            </div>\r\n        </Styled>\r\n    );\r\n};\r\n\r\nexport default CreateStaff;\r\n"]},"metadata":{},"sourceType":"module"}