{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\src\\\\app\\\\views\\\\StaffAccepted\\\\StaffAccepted.jsx\";\n\nimport React, { Component, useState, useEffect } from \"react\";\nimport { DeleteFilled, EditFilled, EyeFilled, HomeFilled } from '@ant-design/icons';\nimport { Breadcrumb, Button, Form, Modal, Table, Tooltip } from 'antd';\nimport Styled from '../create-staff/CreateStaffStyled';\nimport SearchStaff from '../create-staff/Search';\nimport { toast } from 'react-toastify';\nimport moment from \"moment\";\nimport { getTourChiTiet, deleteTourChiTiet } from \"./StaffAcceptedService\";\nimport StaffAcceptedDialog from \"./StaffAcceptedDialog\";\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 1000\n});\n\nvar DialogDelete = function DialogDelete(props) {\n  var open = props.open,\n      onOk = props.onOk,\n      onCancel = props.onCancel;\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"Xoa tour\",\n    open: open,\n    onOk: onOk,\n    onCancel: onCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Ban co chac muon xoa ?\"));\n};\n\nfunction StaffAccepted() {\n  var _this2 = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataTour = _useState2[0],\n      setDataTour = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      openDialogAdd = _useState4[0],\n      setOpenDialogAdd = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openDialogDelete = _useState6[0],\n      setOpenDialogDelete = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tourDelete = _useState8[0],\n      setTourDelete = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      tourEdit = _useState10[0],\n      setTourEdit = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      cellVisible = _useState12[0],\n      setCellVisible = _useState12[1];\n\n  var handleCellClick = function handleCellClick(key) {\n    setCellVisible(_objectSpread(_objectSpread({}, cellVisible), {}, {\n      [key]: !cellVisible[key]\n    }));\n  };\n\n  var getTourFromBackEnd = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, data, newData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getTourChiTiet();\n\n            case 2:\n              res = _context.sent;\n              data = res.data;\n              newData = data.map(function (item, index) {\n                return _objectSpread(_objectSpread({}, item), {}, {\n                  key: index.toString()\n                });\n              });\n              setDataTour(newData); // setDataTour(res.data)\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getTourFromBackEnd() {\n      return _ref.apply(this, arguments);\n    };\n  }(); // =========== Xoa =============\n\n\n  var onClickIconDelete = function onClickIconDelete(rowData) {\n    setOpenDialogDelete(true);\n    setTourDelete(rowData);\n  };\n\n  var onCancelDelete = function onCancelDelete() {\n    setOpenDialogDelete(false);\n    setTourDelete();\n    setCellVisible({});\n  };\n\n  var onOkDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return deleteTourChiTiet(tourDelete.idChiTiet);\n\n            case 2:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                toast.success(\"Xoa tour thanh cong\");\n              } else {\n                toast.error(\"Loi !!!\");\n              }\n\n              onCancelDelete();\n              _context2.next = 7;\n              return getTourFromBackEnd();\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onOkDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // =============================\n  // ========== Them =============\n\n\n  var handleClickAdd = function handleClickAdd() {\n    setOpenDialogAdd(true);\n  };\n\n  var cancelDialogAdd = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setOpenDialogAdd(false);\n              setCellVisible({}); // setTourEdit()\n\n              getTourFromBackEnd();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function cancelDialogAdd() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // ============================\n  // ========= Sua ==============\n\n\n  var onClickIconEdit = function onClickIconEdit(rowData) {\n    setTourEdit(rowData);\n    setOpenDialogAdd(true);\n  }; // ============================\n\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            getTourFromBackEnd();\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  })), []);\n  return /*#__PURE__*/React.createElement(Styled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      padding: '0 0 30px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HomeFilled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/conclude/manage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA1o m\\u1EDBi\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"set-space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"middle\",\n    onClick: handleClickAdd,\n    className: \"btn-add-new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA0O M\\u1EDAI\"), /*#__PURE__*/React.createElement(SearchStaff // searchInfo={searchInfo} \n  // setSearchInfo={setSearchInfo} \n  , {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  })), openDialogAdd && /*#__PURE__*/React.createElement(StaffAcceptedDialog, {\n    item: tourEdit,\n    open: openDialogAdd,\n    onCancel: cancelDialogAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }), openDialogDelete && /*#__PURE__*/React.createElement(DialogDelete, {\n    open: openDialogDelete,\n    onOk: onOkDelete,\n    onCancel: onCancelDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    dataSource: dataTour,\n    columns: [{\n      key: 'action',\n      title: 'Thao tác',\n      dataIndex: 'action',\n      align: 'center',\n      width: 100,\n      render: function render(text, rowData) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"createStaff-action\",\n          style: {\n            gap: \"16px 16px\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"ch\\u1EC9nh s\\u1EEDa\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(EditFilled, {\n          style: {\n            color: \"blue\"\n          },\n          onClick: function onClick() {\n            return onClickIconEdit(rowData);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"x\\xF3a\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(DeleteFilled, {\n          style: {\n            color: \"red\"\n          },\n          onClick: function onClick() {\n            return onClickIconDelete(rowData);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 45\n          }\n        })));\n      }\n    }, {\n      title: 'Id',\n      dataIndex: 'idChiTiet',\n      width: 50\n    }, {\n      title: 'Ngay di',\n      width: 100,\n      render: function render(rowData) {\n        return moment(rowData.ngayDi, \"YYYY-MM-DD\").format(\"DD-MM-YYYY\");\n      }\n    }, {\n      title: 'Ngay ve',\n      width: 100,\n      render: function render(rowData) {\n        return moment(rowData.ngayVe, \"YYYY-MM-DD\").format(\"DD-MM-YYYY\");\n      }\n    }, {\n      title: 'So luong con',\n      width: 120,\n      dataIndex: 'soLuongCon'\n    }, {\n      title: 'Ghi chu',\n      dataIndex: \"ghiChu\",\n      // render: record => record.ghiChu.substring(0, 30) + \"...\"\n      render: function render(text, record) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          onClick: function onClick() {\n            return handleCellClick(record.key);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 37\n          }\n        }, cellVisible[record.key] ? text : record.ghiChu.substring(0, 30) + \"...\");\n      }\n    }, {\n      title: 'HInh anh',\n      // dataIndex: \"hinhAnh\"\n      render: function render(rowData) {\n        return rowData.hinhAnh.substring(0, 30) + \"...\";\n      }\n    }],\n    pagination: {\n      showSizeChanger: true,\n      pageSizeOptions: ['5', '10', '20']\n    },\n    scroll: {\n      y: 440\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default StaffAccepted;\n/**\r\n * {\r\n        \"idChiTiet\": 1,\r\n        \"ngayDi\": \"2023-06-06T04:06:00.000+00:00\",\r\n        \"ngayVe\": \"2019-06-10T17:03:00.000+00:00\",\r\n        \"soLuongCon\": 23,\r\n        \"ghiChu\": \"Du lịch Miền Trung - Tour Du lịch Đà Nẵng được thiên nhiên đặc biệt ưu đãi, mảnh đất miền Trung đẹp với nhiều dãy núi hùng vỹ xanh rì, những bờ biển cát trắng mịn thoai thoải và những dòng sông trong vắt thơ mộng. Không những vậy, trên con đường di sản miền Trung cùng du lịch thanh tùng, du khách còn được thưởng ngoạn những di sản thế giới cuả Việt Nam đó là Phố cổ Hội An – nơi bến cảng một thời sầm uất nhất Đông Dương, quần thể di tích Cố Đô Huế với hệ thống đền đài lăng tẩm nguy nga tráng lệ và Động Phong Nha với nhiều hang động kì bí của tạo hóa..\",\r\n        \"hinhAnh\": \"YbhTzyNe2EuyMf3uPtC3JGdyR48ApRNX9l9hH5Qk.jpeg\"\r\n    },\r\n */","map":{"version":3,"sources":["D:/DAn/FEAmin/QLNV/src/app/views/StaffAccepted/StaffAccepted.jsx"],"names":["React","Component","useState","useEffect","DeleteFilled","EditFilled","EyeFilled","HomeFilled","Breadcrumb","Button","Form","Modal","Table","Tooltip","Styled","SearchStaff","toast","moment","getTourChiTiet","deleteTourChiTiet","StaffAcceptedDialog","configure","autoClose","draggable","limit","DialogDelete","props","open","onOk","onCancel","StaffAccepted","dataTour","setDataTour","openDialogAdd","setOpenDialogAdd","openDialogDelete","setOpenDialogDelete","tourDelete","setTourDelete","tourEdit","setTourEdit","cellVisible","setCellVisible","handleCellClick","key","getTourFromBackEnd","res","data","newData","map","item","index","toString","onClickIconDelete","rowData","onCancelDelete","onOkDelete","idChiTiet","status","success","error","handleClickAdd","cancelDialogAdd","onClickIconEdit","padding","title","dataIndex","align","width","render","text","gap","color","ngayDi","format","ngayVe","record","ghiChu","substring","hinhAnh","showSizeChanger","pageSizeOptions","y"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\r\nimport {\r\n    DeleteFilled,\r\n    EditFilled,\r\n    EyeFilled,\r\n    HomeFilled,\r\n} from '@ant-design/icons';\r\nimport { Breadcrumb, Button, Form, Modal, Table, Tooltip } from 'antd';\r\nimport Styled from '../create-staff/CreateStaffStyled';\r\nimport SearchStaff from '../create-staff/Search';\r\nimport { toast } from 'react-toastify';\r\nimport moment from \"moment\";\r\nimport { getTourChiTiet, deleteTourChiTiet } from \"./StaffAcceptedService\";\r\nimport StaffAcceptedDialog from \"./StaffAcceptedDialog\";\r\n\r\ntoast.configure({\r\n    autoClose: 1000,\r\n    draggable: false,\r\n    limit: 1000\r\n});\r\n\r\nconst DialogDelete = (props) => {\r\n\r\n    const { open, onOk, onCancel } = props\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Xoa tour\"\r\n            open={open}\r\n            onOk={onOk}\r\n            onCancel={onCancel}\r\n        >\r\n            <p>Ban co chac muon xoa ?</p>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nfunction StaffAccepted() {\r\n\r\n    const [dataTour, setDataTour] = useState([])\r\n    const [openDialogAdd, setOpenDialogAdd] = useState(false)\r\n\r\n    const [openDialogDelete, setOpenDialogDelete] = useState(false)\r\n    const [tourDelete, setTourDelete] = useState()\r\n\r\n    const [tourEdit, setTourEdit] = useState()\r\n\r\n\r\n    const [cellVisible, setCellVisible] = useState({});\r\n    const handleCellClick = (key) => {\r\n        setCellVisible({\r\n            ...cellVisible,\r\n            [key]: !cellVisible[key]\r\n        });\r\n    };\r\n\r\n    const getTourFromBackEnd = async () => {\r\n        const res = await getTourChiTiet()\r\n\r\n        const data = res.data\r\n        const newData = data.map((item, index) => {\r\n            return {\r\n                ...item,\r\n                key: index.toString()\r\n            }\r\n        })\r\n        setDataTour(newData)\r\n        // setDataTour(res.data)\r\n    }\r\n\r\n    // =========== Xoa =============\r\n\r\n    const onClickIconDelete = (rowData) => {\r\n        setOpenDialogDelete(true)\r\n        setTourDelete(rowData)\r\n    }\r\n\r\n    const onCancelDelete = () => {\r\n        setOpenDialogDelete(false)\r\n        setTourDelete()\r\n        setCellVisible({})\r\n    }\r\n\r\n    const onOkDelete = async () => {\r\n        const res = await deleteTourChiTiet(tourDelete.idChiTiet)\r\n        if (res.status === 200) {\r\n            toast.success(\"Xoa tour thanh cong\")\r\n        } else {\r\n            toast.error(\"Loi !!!\")\r\n        }\r\n        onCancelDelete()\r\n        await getTourFromBackEnd()\r\n    }\r\n\r\n    // =============================\r\n\r\n    // ========== Them =============\r\n    const handleClickAdd = () => {\r\n        setOpenDialogAdd(true)\r\n    }\r\n\r\n    const cancelDialogAdd = async () => {\r\n        setOpenDialogAdd(false)\r\n        setCellVisible({})\r\n        // setTourEdit()\r\n        getTourFromBackEnd()\r\n    }\r\n\r\n    // ============================\r\n\r\n    // ========= Sua ==============\r\n\r\n    const onClickIconEdit = (rowData) => {\r\n        setTourEdit(rowData)\r\n        setOpenDialogAdd(true)\r\n    }\r\n\r\n    // ============================\r\n\r\n\r\n    useEffect(async () => {\r\n        getTourFromBackEnd()\r\n    }, [])\r\n\r\n    return (\r\n        <Styled>\r\n            <div className=\"m-sm-30\">\r\n                <Breadcrumb style={{ padding: '0 0 30px 0' }}>\r\n                    <Breadcrumb.Item href=\"/\">\r\n                        <HomeFilled />\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/conclude/manage\">\r\n                        <span>Quản lý nhân viên</span>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>Tạo mới</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                <div className='set-space-between'>\r\n                    <Button size=\"middle\"\r\n                        onClick={handleClickAdd}\r\n                        className=\"btn-add-new\"\r\n                    >\r\n                        TẠO MỚI\r\n                    </Button>\r\n                    <SearchStaff\r\n                    // searchInfo={searchInfo} \r\n                    // setSearchInfo={setSearchInfo} \r\n                    />\r\n                </div>\r\n\r\n                {\r\n                    openDialogAdd &&\r\n                    <StaffAcceptedDialog\r\n                        item={tourEdit}\r\n                        open={openDialogAdd}\r\n                        onCancel={cancelDialogAdd}\r\n                    />\r\n                }\r\n\r\n                {\r\n                    openDialogDelete &&\r\n                    <DialogDelete\r\n                        open={openDialogDelete}\r\n                        onOk={onOkDelete}\r\n                        onCancel={onCancelDelete}\r\n                    />\r\n                }\r\n\r\n\r\n                <Table\r\n                    dataSource={dataTour}\r\n                    columns={[\r\n                        {\r\n                            key: 'action',\r\n                            title: 'Thao tác',\r\n                            dataIndex: 'action',\r\n                            align: 'center',\r\n                            width: 100,\r\n                            render: (text, rowData) => {\r\n                                return (\r\n                                    <div\r\n                                        className='createStaff-action'\r\n                                        style={{ gap: \"16px 16px\" }}\r\n                                    >\r\n                                        <Tooltip placement=\"bottom\" title=\"chỉnh sửa\">\r\n                                            <EditFilled\r\n                                                style={{ color: \"blue\" }}\r\n                                                onClick={() => onClickIconEdit(rowData)}\r\n                                            />\r\n                                        </Tooltip>\r\n\r\n                                        <Tooltip placement=\"bottom\" title=\"xóa\">\r\n                                            <DeleteFilled\r\n                                                style={{ color: \"red\" }}\r\n                                                onClick={() => onClickIconDelete(rowData)}\r\n                                            />\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                );\r\n                            },\r\n                        },\r\n                        { title: 'Id', dataIndex: 'idChiTiet', width: 50 },\r\n                        {\r\n                            title: 'Ngay di',\r\n                            width: 100,\r\n                            render: rowData => moment(rowData.ngayDi, \"YYYY-MM-DD\").format(\"DD-MM-YYYY\")\r\n                        },\r\n                        {\r\n                            title: 'Ngay ve',\r\n                            width: 100,\r\n                            render: rowData => moment(rowData.ngayVe, \"YYYY-MM-DD\").format(\"DD-MM-YYYY\")\r\n\r\n                        },\r\n                        {\r\n                            title: 'So luong con',\r\n                            width: 120,\r\n                            dataIndex: 'soLuongCon'\r\n                        },\r\n                        {\r\n                            title: 'Ghi chu',\r\n                            dataIndex: \"ghiChu\",\r\n                            // render: record => record.ghiChu.substring(0, 30) + \"...\"\r\n                            render: (text, record) => {\r\n                                return (\r\n                                    <div onClick={() => handleCellClick(record.key)}>\r\n                                        {cellVisible[record.key] ? text : record.ghiChu.substring(0, 30) + \"...\"}\r\n                                    </div>\r\n                                );\r\n                            }\r\n                        },\r\n                        {\r\n                            title: 'HInh anh',\r\n                            // dataIndex: \"hinhAnh\"\r\n                            render: rowData => rowData.hinhAnh.substring(0, 30) + \"...\"\r\n                        }\r\n                    ]}\r\n                    pagination={{\r\n                        showSizeChanger: true,\r\n                        pageSizeOptions: ['5', '10', '20'],\r\n                    }}\r\n                    scroll={{ y: 440 }}\r\n                />\r\n            </div>\r\n        </Styled>\r\n    )\r\n}\r\n\r\nexport default StaffAccepted\r\n\r\n/**\r\n * {\r\n        \"idChiTiet\": 1,\r\n        \"ngayDi\": \"2023-06-06T04:06:00.000+00:00\",\r\n        \"ngayVe\": \"2019-06-10T17:03:00.000+00:00\",\r\n        \"soLuongCon\": 23,\r\n        \"ghiChu\": \"Du lịch Miền Trung - Tour Du lịch Đà Nẵng được thiên nhiên đặc biệt ưu đãi, mảnh đất miền Trung đẹp với nhiều dãy núi hùng vỹ xanh rì, những bờ biển cát trắng mịn thoai thoải và những dòng sông trong vắt thơ mộng. Không những vậy, trên con đường di sản miền Trung cùng du lịch thanh tùng, du khách còn được thưởng ngoạn những di sản thế giới cuả Việt Nam đó là Phố cổ Hội An – nơi bến cảng một thời sầm uất nhất Đông Dương, quần thể di tích Cố Đô Huế với hệ thống đền đài lăng tẩm nguy nga tráng lệ và Động Phong Nha với nhiều hang động kì bí của tạo hóa..\",\r\n        \"hinhAnh\": \"YbhTzyNe2EuyMf3uPtC3JGdyR48ApRNX9l9hH5Qk.jpeg\"\r\n    },\r\n */"]},"metadata":{},"sourceType":"module"}