{"ast":null,"code":"import _taggedTemplateLiteral from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\src\\\\app\\\\views\\\\create-staff\\\\dialog-staff\\\\dialog-register\\\\index.jsx\",\n    _templateObject;\n\nimport React, { useState } from \"react\";\nimport { Button, Form, Modal } from 'antd';\nimport { Tabs } from 'antd';\nimport CurriculumVitae from \"./curriculum-vitae\";\nimport styled from \"styled-components\";\nimport DialogSendLeader from \"./dialog-send-leader\";\nimport DiplomaInfo from \"./diploma-info\";\nimport StaffProfile from \"./staff-profile\";\nimport { getFormStaff, updateFormStaff } from \"../../CreateStaffService\";\nimport { useEffect } from \"react\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\nvar TabPane = Tabs.TabPane;\n\nvar DialogRegister = function DialogRegister(_ref) {\n  var open = _ref.open,\n      employeeId = _ref.employeeId,\n      staffInfo = _ref.staffInfo,\n      handleClose = _ref.handleClose,\n      handleCloseDialogRegister = _ref.handleCloseDialogRegister;\n  console.log(staffInfo);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      shouldBtnSendLeader = _useState4[0],\n      setShouldBtnSendLeader = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shouldOpenPopupSendLeader = _useState6[0],\n      setShouldOpenPopupSendLeader = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      workExperiencesList = _useState8[0],\n      setWorkExperiencesList = _useState8[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var handleGetApi = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(employeeId) {\n      var _res$data, _res$cv, _res$data4, _res$data4$data, _res$data5, _res$data5$data;\n\n      var res, _res$data2, _res$data3, _res$data3$data, _res$data3$data$cv, CvEmployee, dataResume;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getFormStaff({\n                employeeId: employeeId\n              });\n\n            case 2:\n              res = _context.sent;\n              console.log(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data);\n\n              if ((res === null || res === void 0 ? void 0 : (_res$cv = res.cv) === null || _res$cv === void 0 ? void 0 : _res$cv.code) === 200) {\n                setProfile(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.data);\n                setWorkExperiencesList(res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$data = _res$data3.data) === null || _res$data3$data === void 0 ? void 0 : (_res$data3$data$cv = _res$data3$data.cv) === null || _res$data3$data$cv === void 0 ? void 0 : _res$data3$data$cv.workExperiences);\n              }\n\n              CvEmployee = res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$data = _res$data4.data) === null || _res$data4$data === void 0 ? void 0 : _res$data4$data.cv;\n              dataResume = res === null || res === void 0 ? void 0 : (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : (_res$data5$data = _res$data5.data) === null || _res$data5$data === void 0 ? void 0 : _res$data5$data.resume;\n              form.setFieldsValue({\n                careerGoal: CvEmployee === null || CvEmployee === void 0 ? void 0 : CvEmployee.careerGoal,\n                skill: CvEmployee === null || CvEmployee === void 0 ? void 0 : CvEmployee.skill,\n                hobby: CvEmployee === null || CvEmployee === void 0 ? void 0 : CvEmployee.hobby,\n                commonName: dataResume === null || dataResume === void 0 ? void 0 : dataResume.commonName,\n                currentAddress: dataResume === null || dataResume === void 0 ? void 0 : dataResume.currentAddress,\n                citizenIdIssuanceDate: dataResume === null || dataResume === void 0 ? void 0 : dataResume.citizenIdIssuanceDate,\n                citizenIdIssuingAuthority: dataResume === null || dataResume === void 0 ? void 0 : dataResume.citizenIdIssuingAuthority,\n                ethnicity: dataResume === null || dataResume === void 0 ? void 0 : dataResume.ethnicity,\n                religion: dataResume === null || dataResume === void 0 ? void 0 : dataResume.religion\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleGetApi(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    handleGetApi(employeeId);\n  }, []);\n\n  var onChange = function onChange(key) {};\n\n  var openPopupSendLeader = function openPopupSendLeader() {\n    setShouldOpenPopupSendLeader(true);\n  };\n\n  var handleClosePopupSendLeader = function handleClosePopupSendLeader() {\n    setShouldOpenPopupSendLeader(false);\n  };\n\n  var handleSubmitStaffRegister = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values) {\n      var _res$data6;\n\n      var staffData, res, _res$data7, _res$data8;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              staffData = {\n                employeeId: employeeId,\n                cv: {\n                  careerGoal: values.careerGoal,\n                  skill: values.skill,\n                  hobby: values.hobby,\n                  workExperiences: workExperiencesList\n                },\n                resume: {\n                  commonName: values.commonName,\n                  currentAddress: values.currentAddress,\n                  citizenIdIssuanceDate: values.citizenIdIssuanceDate,\n                  citizenIdIssuingAuthority: values.citizenIdIssuingAuthority,\n                  ethnicity: values.ethnicity,\n                  religion: values.religion\n                }\n              };\n              _context2.next = 3;\n              return updateFormStaff(staffData);\n\n            case 3:\n              res = _context2.sent;\n\n              if ((res === null || res === void 0 ? void 0 : (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.code) === 200) {\n                toast.success('Lưu thành công');\n                setProfile(res === null || res === void 0 ? void 0 : (_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : _res$data7.data);\n                setShouldBtnSendLeader(true);\n              } else {\n                toast.warning(res === null || res === void 0 ? void 0 : (_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : _res$data8.message);\n              }\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSubmitStaffRegister(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(StyledModal, {\n    title: \"Th\\xF4ng tin h\\u1ED3 s\\u01A1\",\n    centered: true,\n    open: open,\n    width: 1000,\n    onCancel: handleCloseDialogRegister,\n    footer: null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    onFinish: handleSubmitStaffRegister,\n    layout: \"vertical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"1\",\n    tabPosition: \"left\",\n    onChange: onChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"H\\u1ED2 S\\u01A0\",\n    key: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(StaffProfile, {\n    staffInfo: staffInfo,\n    workExperiencesList: workExperiencesList,\n    setWorkExperiencesList: setWorkExperiencesList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"S\\u01A0 Y\\u1EBEU L\\xDD L\\u1ECACH\",\n    key: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CurriculumVitae, {\n    staffInfo: staffInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"DANH S\\xC1CH V\\u0102N B\\u1EB0NG\",\n    key: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DiplomaInfo, {\n    staffInfo: staffInfo.certificates,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-dialog-register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-save\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"L\\u01AFU\"), shouldBtnSendLeader && /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-register\",\n    onClick: function onClick() {\n      return openPopupSendLeader();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 45\n    }\n  }, \"TR\\xCCNH L\\xC3NH \\u0110\\u1EA0O\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-close\",\n    onClick: handleCloseDialogRegister,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"H\\u1EE6Y\")), shouldOpenPopupSendLeader && /*#__PURE__*/React.createElement(DialogSendLeader, {\n    open: shouldOpenPopupSendLeader,\n    employeeId: employeeId,\n    handleClosePopupSendLeader: handleClosePopupSendLeader,\n    handleClose: handleClose,\n    handleCloseDialogRegister: handleCloseDialogRegister,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default DialogRegister;\nvar StyledModal = styled(Modal)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n.ant-tabs-nav .ant-tabs-tab+.ant-tabs-tab{\\n    margin: 10px 0 0 0;\\n}\\n    .ant-modal {\\n        height: 90vh;\\n    }\\n    .ant-modal-body {\\n        padding: 20px 0 90px 0;\\n        height: 81vh;\\n        overflow-y: unset;\\n    }\\n    .ant-tabs-tabpane{\\n        padding-left: 0!important;\\n        overflow: unset;\\n    }\\n    .ant-modal-content {\\n        height: 90vh;\\n        overflow: hidden;\\n    }\\n    .btn-dialog-register{\\n        z-index: 99;\\n        position: absolute;\\n        bottom: 0;\\n        width: 100%;\\n        padding: 10px;\\n        background: #fff;\\n        left: 0;\\n        right: 0;\\n        display: flex;\\n        justify-content: center;\\n        -webkit-box-shadow: 1px 0px 10px 0px rgba(0, 0, 0, 0.1);\\n        box-shadow: 1px 0px 10px 0px rgba(0, 0, 0, 0.1);\\n        gap: 10px\\n\\n    }\\n    .btn-close {\\n        background-color: orange;\\n        color: #fff;\\n    }\\n    .btn-close:hover {\\n        background-color: #ffb833;\\n        color: #fff;\\n    }\\n    .btn-save {\\n        background-color: green;\\n        color: #fff;\\n    }\\n    .btn-save:hover {\\n        background-color: #009900;\\n        color: #fff;\\n    }\\n    .btn-register {\\n        background-color: #0d5ac3;\\n        color: #fff;\\n    }\\n    .btn-register:hover {\\n        background-color: #3365a9;\\n        color: #fff;\\n    }\\n    .ant-tabs-content-holder{\\n        height: 70vh;\\n        overflow-y: overlay;\\n    }\\n\"])));","map":{"version":3,"sources":["D:/DAn/FEAmin/QLNV/src/app/views/create-staff/dialog-staff/dialog-register/index.jsx"],"names":["React","useState","Button","Form","Modal","Tabs","CurriculumVitae","styled","DialogSendLeader","DiplomaInfo","StaffProfile","getFormStaff","updateFormStaff","useEffect","toast","configure","autoClose","draggable","limit","TabPane","DialogRegister","open","employeeId","staffInfo","handleClose","handleCloseDialogRegister","console","log","profile","setProfile","shouldBtnSendLeader","setShouldBtnSendLeader","shouldOpenPopupSendLeader","setShouldOpenPopupSendLeader","workExperiencesList","setWorkExperiencesList","useForm","form","handleGetApi","res","data","cv","code","workExperiences","CvEmployee","dataResume","resume","setFieldsValue","careerGoal","skill","hobby","commonName","currentAddress","citizenIdIssuanceDate","citizenIdIssuingAuthority","ethnicity","religion","onChange","key","openPopupSendLeader","handleClosePopupSendLeader","handleSubmitStaffRegister","values","staffData","success","warning","message","certificates","StyledModal"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Form, Modal } from 'antd';\r\nimport { Tabs } from 'antd';\r\nimport CurriculumVitae from \"./curriculum-vitae\";\r\nimport styled from \"styled-components\";\r\nimport DialogSendLeader from \"./dialog-send-leader\";\r\nimport DiplomaInfo from \"./diploma-info\";\r\nimport StaffProfile from \"./staff-profile\";\r\nimport { getFormStaff, updateFormStaff } from \"../../CreateStaffService\";\r\nimport { useEffect } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\ntoast.configure({\r\n    autoClose: 1000,\r\n    draggable: false,\r\n    limit: 3\r\n});\r\n\r\nconst TabPane = Tabs.TabPane\r\n\r\nconst DialogRegister = ({ open, employeeId, staffInfo, handleClose, handleCloseDialogRegister }) => {\r\n    console.log(staffInfo)\r\n    const [profile, setProfile] = useState([])\r\n    const [shouldBtnSendLeader, setShouldBtnSendLeader] = useState(false)\r\n    const [shouldOpenPopupSendLeader, setShouldOpenPopupSendLeader] = useState(false)\r\n    const [workExperiencesList, setWorkExperiencesList] = useState([])\r\n\r\n    const [form] = Form.useForm();\r\n\r\n    const handleGetApi = async (employeeId) => {\r\n        const res = await getFormStaff({ employeeId })\r\n        console.log(res?.data?.data)\r\n        if (res?.cv?.code === 200) {\r\n            setProfile(res?.data?.data)\r\n            setWorkExperiencesList(res?.data?.data?.cv?.workExperiences)\r\n        }\r\n        const CvEmployee = res?.data?.data?.cv\r\n        const dataResume = res?.data?.data?.resume\r\n\r\n        form.setFieldsValue({\r\n            careerGoal: CvEmployee?.careerGoal,\r\n            skill: CvEmployee?.skill,\r\n            hobby: CvEmployee?.hobby,\r\n            commonName: dataResume?.commonName,\r\n            currentAddress: dataResume?.currentAddress,\r\n            citizenIdIssuanceDate: dataResume?.citizenIdIssuanceDate,\r\n            citizenIdIssuingAuthority: dataResume?.citizenIdIssuingAuthority,\r\n            ethnicity: dataResume?.ethnicity,\r\n            religion: dataResume?.religion,\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleGetApi(employeeId)\r\n    }, [])\r\n\r\n\r\n    const onChange = (key) => { };\r\n\r\n    const openPopupSendLeader = () => {\r\n        setShouldOpenPopupSendLeader(true)\r\n    }\r\n\r\n    const handleClosePopupSendLeader = () => {\r\n        setShouldOpenPopupSendLeader(false)\r\n    }\r\n\r\n    const handleSubmitStaffRegister = async (values) => {\r\n        const staffData = {\r\n            employeeId,\r\n            cv: {\r\n                careerGoal: values.careerGoal,\r\n                skill: values.skill,\r\n                hobby: values.hobby,\r\n                workExperiences: workExperiencesList\r\n\r\n            },\r\n            resume: {\r\n                commonName: values.commonName,\r\n                currentAddress: values.currentAddress,\r\n                citizenIdIssuanceDate: values.citizenIdIssuanceDate,\r\n                citizenIdIssuingAuthority: values.citizenIdIssuingAuthority,\r\n                ethnicity: values.ethnicity,\r\n                religion: values.religion,\r\n            },\r\n        }\r\n\r\n        const res = await updateFormStaff(staffData)\r\n\r\n        if (res?.data?.code === 200) {\r\n            toast.success('Lưu thành công')\r\n            setProfile(res?.data?.data)\r\n            setShouldBtnSendLeader(true)\r\n        } else {\r\n            toast.warning(res?.data?.message)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <StyledModal\r\n            title=\"Thông tin hồ sơ\"\r\n            centered\r\n            open={open}\r\n            width={1000}\r\n            onCancel={handleCloseDialogRegister}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                form={form}\r\n                onFinish={handleSubmitStaffRegister}\r\n                layout=\"vertical\"\r\n            >\r\n                <Tabs defaultActiveKey=\"1\" tabPosition=\"left\" onChange={onChange}>\r\n                    <TabPane tab=\"HỒ SƠ\" key=\"1\">\r\n                        <StaffProfile\r\n                            staffInfo={staffInfo}\r\n                            workExperiencesList={workExperiencesList}\r\n                            setWorkExperiencesList={setWorkExperiencesList}\r\n\r\n                        />\r\n                    </TabPane>\r\n                    <TabPane tab=\"SƠ YẾU LÝ LỊCH\" key=\"2\">\r\n                        <CurriculumVitae\r\n                            staffInfo={staffInfo}\r\n                        />\r\n                    </TabPane>\r\n                    <TabPane tab=\"DANH SÁCH VĂN BẰNG\" key=\"3\">\r\n                        <DiplomaInfo\r\n                            staffInfo={staffInfo.certificates}\r\n                        />\r\n                    </TabPane>\r\n                </Tabs>\r\n                <div className=\"btn-dialog-register\">\r\n                    <Button className=\"btn-save\" htmlType=\"submit\">\r\n                        LƯU\r\n                    </Button>\r\n                    {shouldBtnSendLeader && <Button className=\"btn-register\" onClick={() => openPopupSendLeader()} >\r\n                        TRÌNH LÃNH ĐẠO\r\n                    </Button>}\r\n                    <Button className=\"btn-close\" onClick={handleCloseDialogRegister}>\r\n                        HỦY\r\n                    </Button>\r\n                </div>\r\n\r\n                {shouldOpenPopupSendLeader && (\r\n                    <DialogSendLeader\r\n                        open={shouldOpenPopupSendLeader}\r\n                        employeeId={employeeId}\r\n                        handleClosePopupSendLeader={handleClosePopupSendLeader}\r\n                        handleClose={handleClose}\r\n                        handleCloseDialogRegister={handleCloseDialogRegister}\r\n                    />\r\n                )}\r\n            </Form>\r\n        </StyledModal>\r\n    );\r\n}\r\n\r\n\r\nexport default DialogRegister;\r\n\r\nconst StyledModal = styled(Modal)`\r\n.ant-tabs-nav .ant-tabs-tab+.ant-tabs-tab{\r\n    margin: 10px 0 0 0;\r\n}\r\n    .ant-modal {\r\n        height: 90vh;\r\n    }\r\n    .ant-modal-body {\r\n        padding: 20px 0 90px 0;\r\n        height: 81vh;\r\n        overflow-y: unset;\r\n    }\r\n    .ant-tabs-tabpane{\r\n        padding-left: 0!important;\r\n        overflow: unset;\r\n    }\r\n    .ant-modal-content {\r\n        height: 90vh;\r\n        overflow: hidden;\r\n    }\r\n    .btn-dialog-register{\r\n        z-index: 99;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        padding: 10px;\r\n        background: #fff;\r\n        left: 0;\r\n        right: 0;\r\n        display: flex;\r\n        justify-content: center;\r\n        -webkit-box-shadow: 1px 0px 10px 0px rgba(0, 0, 0, 0.1);\r\n        box-shadow: 1px 0px 10px 0px rgba(0, 0, 0, 0.1);\r\n        gap: 10px\r\n\r\n    }\r\n    .btn-close {\r\n        background-color: orange;\r\n        color: #fff;\r\n    }\r\n    .btn-close:hover {\r\n        background-color: #ffb833;\r\n        color: #fff;\r\n    }\r\n    .btn-save {\r\n        background-color: green;\r\n        color: #fff;\r\n    }\r\n    .btn-save:hover {\r\n        background-color: #009900;\r\n        color: #fff;\r\n    }\r\n    .btn-register {\r\n        background-color: #0d5ac3;\r\n        color: #fff;\r\n    }\r\n    .btn-register:hover {\r\n        background-color: #3365a9;\r\n        color: #fff;\r\n    }\r\n    .ant-tabs-content-holder{\r\n        height: 70vh;\r\n        overflow-y: overlay;\r\n    }\r\n`"]},"metadata":{},"sourceType":"module"}