{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\src\\\\app\\\\views\\\\create-staff\\\\CreateStaff.jsx\";\n\nimport { DeleteFilled, EditFilled, EyeFilled, HomeFilled } from '@ant-design/icons';\nimport { Breadcrumb, Button, Form, Modal, Table, Tooltip } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport Styled from './CreateStaffStyled'; // import data from '../../db.json';\n\nimport CreateStaffDialogAdd from './CreateStaffDialogAdd';\nimport { deleteTour, getTour } from \"./CreateStaffService\";\nimport SearchStaff from './Search';\nimport { toast } from 'react-toastify';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 1000\n});\n\nvar DialogDelete = function DialogDelete(props) {\n  var open = props.open,\n      onOk = props.onOk,\n      onCancel = props.onCancel;\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"Xoa tour\",\n    open: open,\n    onOk: onOk,\n    onCancel: onCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Ban co chac muon xoa ?\"));\n};\n\nvar CreateStaff = function CreateStaff() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchInfo = _useState2[0],\n      setSearchInfo = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dataTour = _useState4[0],\n      setDataTour = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataTourSearch = _useState6[0],\n      setDataTourSearch = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      openDialogAdd = _useState8[0],\n      setOpenDialogAdd = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      openDialogDelete = _useState10[0],\n      setOpenDialogDelete = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      tourDelete = _useState12[0],\n      setTourDelete = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      tourEdit = _useState14[0],\n      setTourEdit = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dem = _useState16[0],\n      setDem = _useState16[1];\n\n  var getTourFromBackEnd = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getTour();\n\n            case 2:\n              res = _context.sent;\n              setDataTour(res.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getTourFromBackEnd() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSearch = function onSearch() {\n    var result = dataTour.filter(function (item) {\n      return item.tenTour.includes(searchInfo) || item.xuatPhat.includes(searchInfo) || item.giaNguoiLon.toString() === searchInfo || item.giaTreEm.toString() === searchInfo || item.giaTreNho.toString() === searchInfo;\n    });\n    setDataTourSearch(result);\n    setDem(1);\n  };\n\n  var returnTour = function returnTour() {\n    if (dataTourSearch.length === 0 && dem === 0) {\n      return dataTour;\n    } else if (dataTourSearch.length === 0 && dem === 1) {\n      return dataTourSearch;\n    } else {\n      return dataTourSearch;\n    }\n  }; // =========== Xoa =============\n\n\n  var onClickIconDelete = function onClickIconDelete(rowData) {\n    setOpenDialogDelete(true);\n    setTourDelete(rowData);\n  };\n\n  var onCancelDelete = function onCancelDelete() {\n    setOpenDialogDelete(false);\n    setTourDelete();\n  };\n\n  var onOkDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return deleteTour(tourDelete);\n\n            case 2:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                toast.success(\"Xoa tour thanh cong\");\n              } else {\n                toast.error(\"Loi !!!\");\n              }\n\n              onCancelDelete();\n              _context2.next = 7;\n              return getTourFromBackEnd();\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onOkDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // =============================\n  // ========== Them =============\n\n\n  var handleClickAdd = function handleClickAdd() {\n    setOpenDialogAdd(true);\n  };\n\n  var cancelDialogAdd = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setOpenDialogAdd(false);\n              setTourEdit();\n              getTourFromBackEnd();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function cancelDialogAdd() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // ============================\n  // ========= Sua ==============\n\n\n  var onClickIconEdit = function onClickIconEdit(rowData) {\n    setTourEdit(rowData);\n    setOpenDialogAdd(true);\n  }; // ============================\n  // const getDataFisrt = async () => {\n  //     await getTourFromBackEnd()\n  //     onSearch()\n  // }\n\n\n  useEffect(function () {\n    getTourFromBackEnd(); // onSearch()\n    // getDataFisrt()\n  }, []);\n  return /*#__PURE__*/React.createElement(Styled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      padding: '0 0 30px 0'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HomeFilled, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/conclude/manage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA1o m\\u1EDBi\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"set-space-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"middle\",\n    onClick: handleClickAdd,\n    className: \"btn-add-new\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA0O M\\u1EDAI\"), /*#__PURE__*/React.createElement(SearchStaff, {\n    searchInfo: searchInfo,\n    setSearchInfo: setSearchInfo,\n    onSearch: onSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  })), openDialogAdd && /*#__PURE__*/React.createElement(CreateStaffDialogAdd, {\n    item: tourEdit,\n    open: openDialogAdd,\n    onCancel: cancelDialogAdd,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }), openDialogDelete && /*#__PURE__*/React.createElement(DialogDelete, {\n    open: openDialogDelete,\n    onOk: onOkDelete,\n    onCancel: onCancelDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    dataSource: returnTour(),\n    columns: [{\n      key: 'action',\n      title: 'Thao tác',\n      dataIndex: 'action',\n      align: 'center',\n      width: 100,\n      render: function render(text, rowData) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"createStaff-action\",\n          style: {\n            gap: \"16px 16px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"ch\\u1EC9nh s\\u1EEDa\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(EditFilled, {\n          style: {\n            color: \"blue\"\n          },\n          onClick: function onClick() {\n            return onClickIconEdit(rowData);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"x\\xF3a\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(DeleteFilled, {\n          style: {\n            color: \"red\"\n          },\n          onClick: function onClick() {\n            return onClickIconDelete(rowData);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 45\n          }\n        })));\n      }\n    }, {\n      title: 'Ten tour',\n      dataIndex: 'tenTour'\n    }, {\n      title: 'Phuong tien',\n      dataIndex: 'phuongTien'\n    }, {\n      title: 'Xuat phat',\n      dataIndex: 'xuatPhat'\n    }, {\n      title: 'So ngay',\n      dataIndex: 'soNgay',\n      width: 75,\n      align: 'center'\n    }, {\n      title: 'So dem',\n      dataIndex: 'soDem',\n      width: 75,\n      align: 'center'\n    }, {\n      title: 'Gia nguoi lon',\n      width: 110,\n      align: 'center',\n      render: function render(rowData) {\n        return rowData.giaNguoiLon.toLocaleString('vi-VN', {\n          style: 'currency',\n          currency: 'VND'\n        });\n      }\n    }, {\n      title: 'Gia tre em',\n      width: 100,\n      align: 'center',\n      render: function render(rowData) {\n        return rowData.giaTreEm.toLocaleString('vi-VN', {\n          style: 'currency',\n          currency: 'VND'\n        });\n      }\n    }, {\n      title: 'Gia tre nho',\n      width: 100,\n      align: 'center',\n      render: function render(rowData) {\n        return rowData.giaTreNho.toLocaleString('vi-VN', {\n          style: 'currency',\n          currency: 'VND'\n        });\n      }\n    }, {\n      title: 'Lich trinh',\n      dataIndex: 'lichTrinh'\n    }],\n    pagination: {\n      showSizeChanger: true,\n      pageSizeOptions: ['5', '10', '20']\n    },\n    scroll: {\n      y: 440\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default CreateStaff;\n/*\r\n{\r\n        \"id\": 9,\r\n        \"tenTour\": \"Du lịch Đà Nẵng - Bà Nà - Hội An - Huế - Động Phong Nha\",\r\n        \"phuongTien\": \"xe bus\",\r\n        \"xuatPhat\": \"TP.Hồ Chí Minh\",\r\n        \"soNgay\": 3,\r\n        \"soDem\": 3,\r\n        \"giaNguoiLon\": 7.54898E7,\r\n        \"giaTreEm\": 3784820.0,\r\n        \"giaTreNho\": 23546.0,\r\n        \"lichTrinh\": \"Du lịch Đà Nẵng - Bà Nà - Hội An - Huế - Động Phong Nha\",\r\n\r\n*/","map":{"version":3,"sources":["D:/DAn/FEAmin/QLNV/src/app/views/create-staff/CreateStaff.jsx"],"names":["DeleteFilled","EditFilled","EyeFilled","HomeFilled","Breadcrumb","Button","Form","Modal","Table","Tooltip","React","useEffect","useState","Styled","CreateStaffDialogAdd","deleteTour","getTour","SearchStaff","toast","configure","autoClose","draggable","limit","DialogDelete","props","open","onOk","onCancel","CreateStaff","searchInfo","setSearchInfo","dataTour","setDataTour","dataTourSearch","setDataTourSearch","openDialogAdd","setOpenDialogAdd","openDialogDelete","setOpenDialogDelete","tourDelete","setTourDelete","tourEdit","setTourEdit","dem","setDem","getTourFromBackEnd","res","data","onSearch","result","filter","item","tenTour","includes","xuatPhat","giaNguoiLon","toString","giaTreEm","giaTreNho","returnTour","length","onClickIconDelete","rowData","onCancelDelete","onOkDelete","status","success","error","handleClickAdd","cancelDialogAdd","onClickIconEdit","padding","key","title","dataIndex","align","width","render","text","gap","color","toLocaleString","style","currency","showSizeChanger","pageSizeOptions","y"],"mappings":"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","sourcesContent":["import {\r\n    DeleteFilled,\r\n    EditFilled,\r\n    EyeFilled,\r\n    HomeFilled,\r\n} from '@ant-design/icons';\r\nimport { Breadcrumb, Button, Form, Modal, Table, Tooltip } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Styled from './CreateStaffStyled';\r\n\r\n// import data from '../../db.json';\r\nimport CreateStaffDialogAdd from './CreateStaffDialogAdd';\r\nimport { deleteTour, getTour } from \"./CreateStaffService\";\r\nimport SearchStaff from './Search';\r\nimport { toast } from 'react-toastify';\r\n\r\ntoast.configure({\r\n    autoClose: 1000,\r\n    draggable: false,\r\n    limit: 1000\r\n});\r\n\r\nconst DialogDelete = (props) => {\r\n\r\n    const { open, onOk, onCancel } = props\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Xoa tour\"\r\n            open={open}\r\n            onOk={onOk}\r\n            onCancel={onCancel}\r\n        >\r\n            <p>Ban co chac muon xoa ?</p>\r\n        </Modal>\r\n    )\r\n}\r\n\r\n\r\nconst CreateStaff = () => {\r\n\r\n    const [searchInfo, setSearchInfo] = useState(\"\")\r\n    const [dataTour, setDataTour] = useState([])\r\n    const [dataTourSearch, setDataTourSearch] = useState([])\r\n    const [openDialogAdd, setOpenDialogAdd] = useState(false)\r\n    const [openDialogDelete, setOpenDialogDelete] = useState(false)\r\n    const [tourDelete, setTourDelete] = useState()\r\n    const [tourEdit, setTourEdit] = useState()\r\n\r\n    const [dem, setDem] = useState(0)\r\n\r\n    const getTourFromBackEnd = async () => {\r\n        const res = await getTour()\r\n        setDataTour(res.data)\r\n    }\r\n\r\n    const onSearch = () => {\r\n        const result = dataTour.filter(\r\n            (item) =>\r\n                item.tenTour.includes(searchInfo) ||\r\n                item.xuatPhat.includes(searchInfo) ||\r\n                item.giaNguoiLon.toString() === searchInfo ||\r\n                item.giaTreEm.toString() === searchInfo ||\r\n                item.giaTreNho.toString() === searchInfo\r\n        );\r\n        setDataTourSearch(result)\r\n        setDem(1)\r\n    }\r\n\r\n    const returnTour = () => {\r\n        if (dataTourSearch.length === 0 && dem === 0) {\r\n            return dataTour\r\n        } else if (dataTourSearch.length === 0 && dem === 1) {\r\n            return dataTourSearch\r\n        }\r\n        else {\r\n            return dataTourSearch\r\n        }\r\n    }\r\n\r\n    // =========== Xoa =============\r\n\r\n    const onClickIconDelete = (rowData) => {\r\n        setOpenDialogDelete(true)\r\n        setTourDelete(rowData)\r\n    }\r\n\r\n    const onCancelDelete = () => {\r\n        setOpenDialogDelete(false)\r\n        setTourDelete()\r\n    }\r\n\r\n    const onOkDelete = async () => {\r\n        const res = await deleteTour(tourDelete)\r\n        if (res.status === 200) {\r\n            toast.success(\"Xoa tour thanh cong\")\r\n        } else {\r\n            toast.error(\"Loi !!!\")\r\n        }\r\n        onCancelDelete()\r\n        await getTourFromBackEnd()\r\n    }\r\n\r\n    // =============================\r\n\r\n    // ========== Them =============\r\n    const handleClickAdd = () => {\r\n        setOpenDialogAdd(true)\r\n    }\r\n\r\n    const cancelDialogAdd = async () => {\r\n        setOpenDialogAdd(false)\r\n        setTourEdit()\r\n        getTourFromBackEnd()\r\n    }\r\n\r\n    // ============================\r\n\r\n    // ========= Sua ==============\r\n\r\n    const onClickIconEdit = (rowData) => {\r\n        setTourEdit(rowData)\r\n        setOpenDialogAdd(true)\r\n    }\r\n\r\n    // ============================\r\n\r\n    // const getDataFisrt = async () => {\r\n    //     await getTourFromBackEnd()\r\n    //     onSearch()\r\n    // }\r\n\r\n    useEffect(() => {\r\n        getTourFromBackEnd()\r\n        // onSearch()\r\n        // getDataFisrt()\r\n    }, [])\r\n\r\n    return (\r\n        <Styled>\r\n            <div className=\"m-sm-30\">\r\n                <Breadcrumb style={{ padding: '0 0 30px 0' }}>\r\n                    <Breadcrumb.Item href=\"/\">\r\n                        <HomeFilled />\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/conclude/manage\">\r\n                        <span>Quản lý nhân viên</span>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>Tạo mới</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                <div className='set-space-between'>\r\n                    <Button size=\"middle\"\r\n                        onClick={handleClickAdd}\r\n                        className=\"btn-add-new\"\r\n                    >\r\n                        TẠO MỚI\r\n                    </Button>\r\n                    <SearchStaff searchInfo={searchInfo} setSearchInfo={setSearchInfo} onSearch={onSearch} />\r\n                </div>\r\n\r\n                {\r\n                    openDialogAdd &&\r\n                    <CreateStaffDialogAdd\r\n                        item={tourEdit}\r\n                        open={openDialogAdd}\r\n                        onCancel={cancelDialogAdd}\r\n                    />\r\n                }\r\n\r\n                {\r\n                    openDialogDelete &&\r\n                    <DialogDelete\r\n                        open={openDialogDelete}\r\n                        onOk={onOkDelete}\r\n                        onCancel={onCancelDelete}\r\n                    />\r\n                }\r\n\r\n\r\n                <Table\r\n                    dataSource={returnTour()}\r\n                    columns={[\r\n                        {\r\n                            key: 'action',\r\n                            title: 'Thao tác',\r\n                            dataIndex: 'action',\r\n                            align: 'center',\r\n                            width: 100,\r\n                            render: (text, rowData) => {\r\n                                return (\r\n                                    <div\r\n                                        className='createStaff-action'\r\n                                        style={{ gap: \"16px 16px\" }}\r\n                                    >\r\n                                        <Tooltip placement=\"bottom\" title=\"chỉnh sửa\">\r\n                                            <EditFilled\r\n                                                style={{ color: \"blue\" }}\r\n                                                onClick={() => onClickIconEdit(rowData)}\r\n                                            />\r\n                                        </Tooltip>\r\n\r\n                                        <Tooltip placement=\"bottom\" title=\"xóa\">\r\n                                            <DeleteFilled\r\n                                                style={{ color: \"red\" }}\r\n                                                onClick={() => onClickIconDelete(rowData)}\r\n                                            />\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                );\r\n                            },\r\n                        },\r\n                        { title: 'Ten tour', dataIndex: 'tenTour' },\r\n                        { title: 'Phuong tien', dataIndex: 'phuongTien' },\r\n                        { title: 'Xuat phat', dataIndex: 'xuatPhat' },\r\n                        { title: 'So ngay', dataIndex: 'soNgay', width: 75, align: 'center' },\r\n                        { title: 'So dem', dataIndex: 'soDem', width: 75, align: 'center' },\r\n                        {\r\n                            title: 'Gia nguoi lon',\r\n                            width: 110,\r\n                            align: 'center',\r\n                            render: (rowData) => rowData.giaNguoiLon.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })\r\n                        },\r\n                        {\r\n                            title: 'Gia tre em',\r\n                            width: 100,\r\n                            align: 'center',\r\n                            render: (rowData) => rowData.giaTreEm.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })\r\n\r\n                        },\r\n                        {\r\n                            title: 'Gia tre nho',\r\n                            width: 100,\r\n                            align: 'center',\r\n                            render: (rowData) => rowData.giaTreNho.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })\r\n                        },\r\n                        { title: 'Lich trinh', dataIndex: 'lichTrinh' },\r\n\r\n                    ]}\r\n                    pagination={{\r\n                        showSizeChanger: true,\r\n                        pageSizeOptions: ['5', '10', '20'],\r\n                    }}\r\n                    scroll={{ y: 440 }}\r\n                />\r\n            </div>\r\n        </Styled>\r\n    );\r\n\r\n};\r\n\r\nexport default CreateStaff;\r\n\r\n/*\r\n{\r\n        \"id\": 9,\r\n        \"tenTour\": \"Du lịch Đà Nẵng - Bà Nà - Hội An - Huế - Động Phong Nha\",\r\n        \"phuongTien\": \"xe bus\",\r\n        \"xuatPhat\": \"TP.Hồ Chí Minh\",\r\n        \"soNgay\": 3,\r\n        \"soDem\": 3,\r\n        \"giaNguoiLon\": 7.54898E7,\r\n        \"giaTreEm\": 3784820.0,\r\n        \"giaTreNho\": 23546.0,\r\n        \"lichTrinh\": \"Du lịch Đà Nẵng - Bà Nà - Hội An - Huế - Động Phong Nha\",\r\n\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}