{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\DAn\\\\FEAmin\\\\QLNV\\\\src\\\\app\\\\views\\\\Pending\\\\Pending.jsx\";\n\nimport React, { Component, useEffect, useState } from \"react\";\nimport { DeleteFilled, EditFilled, EyeFilled, HomeFilled } from '@ant-design/icons';\nimport { Breadcrumb, Button, Form, Modal, Table, Tooltip } from 'antd';\nimport Styled from '../create-staff/CreateStaffStyled';\nimport { getPhieuDat, deletePhieu } from \"./PendingService\";\nimport SearchStaff from '../create-staff/Search';\nimport { toast } from 'react-toastify';\nimport moment from \"moment\";\nimport PendingDialog from \"./PendingDialog\";\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 1000\n});\n\nvar DialogDelete = function DialogDelete(props) {\n  var open = props.open,\n      onOk = props.onOk,\n      onCancel = props.onCancel;\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"Xoa tour\",\n    open: open,\n    onOk: onOk,\n    onCancel: onCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Ban co chac muon xoa ?\"));\n};\n\nfunction Pending() {\n  var _this2 = this;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchInfo = _useState2[0],\n      setSearchInfo = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dataPhieu = _useState4[0],\n      setDataPhieu = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataPhieuSearch = _useState6[0],\n      setDataPhieuSearch = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      openDialogAdd = _useState8[0],\n      setOpenDialogAdd = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      openDialogDelete = _useState10[0],\n      setOpenDialogDelete = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      phieuDelete = _useState12[0],\n      setPhieuDelete = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      phieuEdit = _useState14[0],\n      setPhieuEdit = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dem = _useState16[0],\n      setDem = _useState16[1];\n\n  var getPhieuDatFromBackEnd = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getPhieuDat();\n\n            case 2:\n              res = _context.sent;\n              // console.log(\"====>\", res)\n              setDataPhieu(res.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getPhieuDatFromBackEnd() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSearch = function onSearch() {\n    var result = dataPhieu.filter(function (item) {\n      return item.ten.includes(searchInfo) || item.diaChi.includes(searchInfo) || item.sdt.toString() === searchInfo || item.createDate.toString() === searchInfo;\n    });\n    console.log(\"==>\", result);\n    setDataPhieuSearch(result);\n    setDem(1);\n  };\n\n  var returnTour = function returnTour() {\n    if (dataPhieuSearch.length === 0 && dem === 0) {\n      return dataPhieu;\n    } else if (dataPhieuSearch.length === 0 && dem === 1) {\n      return dataPhieuSearch;\n    } else {\n      return dataPhieuSearch;\n    }\n  }; // =========== Xoa =============\n\n\n  var onClickIconDelete = function onClickIconDelete(rowData) {\n    // console.log(\"==>\", rowData)\n    setOpenDialogDelete(true);\n    setPhieuDelete(rowData);\n  };\n\n  var onCancelDelete = function onCancelDelete() {\n    setOpenDialogDelete(false);\n    setPhieuDelete();\n  };\n\n  var onOkDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return deletePhieu(phieuDelete);\n\n            case 2:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                toast.success(\"Xoa tour thanh cong\");\n              } else {\n                toast.error(\"Loi !!!\");\n              }\n\n              onCancelDelete();\n              _context2.next = 7;\n              return getPhieuDatFromBackEnd();\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onOkDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // =============================\n  // ========== Them =============\n\n\n  var handleClickAdd = function handleClickAdd() {\n    setOpenDialogAdd(true);\n  };\n\n  var cancelDialogAdd = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setOpenDialogAdd(false);\n              setPhieuEdit();\n              getPhieuDatFromBackEnd();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function cancelDialogAdd() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // ============================\n\n\n  var onClickIconEdit = function onClickIconEdit(rowData) {\n    setPhieuEdit(rowData);\n    setOpenDialogAdd(true);\n  };\n\n  useEffect(function () {\n    getPhieuDatFromBackEnd();\n  }, []);\n  return /*#__PURE__*/React.createElement(Styled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    style: {\n      padding: '0 0 30px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HomeFilled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    href: \"/conclude/manage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA1o m\\u1EDBi\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"set-space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"middle\",\n    onClick: handleClickAdd,\n    className: \"btn-add-new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, \"T\\u1EA0O M\\u1EDAI\"), /*#__PURE__*/React.createElement(SearchStaff, {\n    searchInfo: searchInfo,\n    setSearchInfo: setSearchInfo,\n    onSearch: onSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  })), openDialogAdd && /*#__PURE__*/React.createElement(PendingDialog, {\n    item: phieuEdit,\n    open: openDialogAdd,\n    onCancel: cancelDialogAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }), openDialogDelete && /*#__PURE__*/React.createElement(DialogDelete, {\n    open: openDialogDelete,\n    onOk: onOkDelete,\n    onCancel: onCancelDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    dataSource: returnTour(),\n    columns: [{\n      key: 'action',\n      title: 'Thao tác',\n      dataIndex: 'action',\n      align: 'center',\n      width: 100,\n      render: function render(text, rowData) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"createStaff-action\",\n          style: {\n            gap: \"16px 16px\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"ch\\u1EC9nh s\\u1EEDa\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(EditFilled, {\n          style: {\n            color: \"blue\"\n          },\n          onClick: function onClick() {\n            return onClickIconEdit(rowData);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Tooltip, {\n          placement: \"bottom\",\n          title: \"x\\xF3a\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(DeleteFilled, {\n          style: {\n            color: \"red\"\n          },\n          onClick: function onClick() {\n            return onClickIconDelete(rowData);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 45\n          }\n        })));\n      }\n    }, {\n      title: 'Ten',\n      dataIndex: 'ten'\n    }, {\n      title: 'Dia chi',\n      dataIndex: 'diaChi'\n    }, {\n      title: 'SDT',\n      dataIndex: 'sdt'\n    }, {\n      title: 'Email',\n      dataIndex: 'email'\n    }, {\n      title: 'Ngay tao',\n      render: function render(rowData) {\n        return moment(rowData.createDate, 'YYYY-MM-DD').format('DD-MM-YYYY');\n      }\n    }, {\n      title: 'Tre em',\n      dataIndex: \"treEm\"\n    }, {\n      title: 'Tre nho',\n      dataIndex: \"treNho\"\n    }, {\n      title: 'Nguoi lon',\n      dataIndex: \"nguoiLon\"\n    }, {\n      title: 'Ghi chu',\n      dataIndex: \"ghiChu\"\n    }, {\n      title: 'id tour',\n      dataIndex: [\"chiTietTour\", \"idChiTiet\"]\n    }],\n    pagination: {\n      showSizeChanger: true,\n      pageSizeOptions: ['5', '10', '20']\n    },\n    scroll: {\n      y: 440\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Pending;\n/**\r\n             \"ten\": \"duc anh 1\",\r\n            \"diaChi\": \"bac ninh\",\r\n            \"sdt\": \"971533818\",\r\n            \"email\": \"ducanh@gmail.com\",\r\n    *      \"createDate\": \"2023-04-13\",\r\n         \"treEm\": 3,\r\n        \"treNho\": 3,\r\n        \"nguoiLon\": 4,\r\n        \"ghiChu\": \"nay anynay\",\r\n        \"chiTietTour\": {\r\n            \"idChiTiet\": 1,\r\n        }\r\n */","map":{"version":3,"sources":["D:/DAn/FEAmin/QLNV/src/app/views/Pending/Pending.jsx"],"names":["React","Component","useEffect","useState","DeleteFilled","EditFilled","EyeFilled","HomeFilled","Breadcrumb","Button","Form","Modal","Table","Tooltip","Styled","getPhieuDat","deletePhieu","SearchStaff","toast","moment","PendingDialog","configure","autoClose","draggable","limit","DialogDelete","props","open","onOk","onCancel","Pending","searchInfo","setSearchInfo","dataPhieu","setDataPhieu","dataPhieuSearch","setDataPhieuSearch","openDialogAdd","setOpenDialogAdd","openDialogDelete","setOpenDialogDelete","phieuDelete","setPhieuDelete","phieuEdit","setPhieuEdit","dem","setDem","getPhieuDatFromBackEnd","res","data","onSearch","result","filter","item","ten","includes","diaChi","sdt","toString","createDate","console","log","returnTour","length","onClickIconDelete","rowData","onCancelDelete","onOkDelete","status","success","error","handleClickAdd","cancelDialogAdd","onClickIconEdit","padding","key","title","dataIndex","align","width","render","text","gap","color","format","showSizeChanger","pageSizeOptions","y"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\r\nimport {\r\n    DeleteFilled,\r\n    EditFilled,\r\n    EyeFilled,\r\n    HomeFilled,\r\n} from '@ant-design/icons';\r\nimport { Breadcrumb, Button, Form, Modal, Table, Tooltip } from 'antd';\r\nimport Styled from '../create-staff/CreateStaffStyled';\r\nimport { getPhieuDat, deletePhieu } from \"./PendingService\";\r\nimport SearchStaff from '../create-staff/Search';\r\nimport { toast } from 'react-toastify';\r\nimport moment from \"moment\";\r\nimport PendingDialog from \"./PendingDialog\";\r\n\r\ntoast.configure({\r\n    autoClose: 1000,\r\n    draggable: false,\r\n    limit: 1000\r\n});\r\n\r\nconst DialogDelete = (props) => {\r\n\r\n    const { open, onOk, onCancel } = props\r\n\r\n    return (\r\n        <Modal\r\n            title=\"Xoa tour\"\r\n            open={open}\r\n            onOk={onOk}\r\n            onCancel={onCancel}\r\n        >\r\n            <p>Ban co chac muon xoa ?</p>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nfunction Pending() {\r\n\r\n    const [searchInfo, setSearchInfo] = useState(\"\")\r\n    const [dataPhieu, setDataPhieu] = useState([])\r\n    const [dataPhieuSearch, setDataPhieuSearch] = useState([])\r\n    const [openDialogAdd, setOpenDialogAdd] = useState(false)\r\n    const [openDialogDelete, setOpenDialogDelete] = useState(false)\r\n    const [phieuDelete, setPhieuDelete] = useState()\r\n    const [phieuEdit, setPhieuEdit] = useState()\r\n\r\n    const [dem, setDem] = useState(0)\r\n\r\n    const getPhieuDatFromBackEnd = async () => {\r\n        const res = await getPhieuDat()\r\n        // console.log(\"====>\", res)\r\n        setDataPhieu(res.data)\r\n    }\r\n\r\n    const onSearch = () => {\r\n        const result = dataPhieu.filter(\r\n            (item) =>\r\n                item.ten.includes(searchInfo) ||\r\n                item.diaChi.includes(searchInfo) ||\r\n                item.sdt.toString() === searchInfo ||\r\n                item.createDate.toString() === searchInfo\r\n        );\r\n        console.log(\"==>\", result)\r\n        setDataPhieuSearch(result)\r\n        setDem(1)\r\n    }\r\n\r\n    const returnTour = () => {\r\n        if (dataPhieuSearch.length === 0 && dem === 0) {\r\n            return dataPhieu\r\n        } else if (dataPhieuSearch.length === 0 && dem === 1) {\r\n            return dataPhieuSearch\r\n        }\r\n        else {\r\n            return dataPhieuSearch\r\n        }\r\n    }\r\n\r\n    // =========== Xoa =============\r\n\r\n    const onClickIconDelete = (rowData) => {\r\n        // console.log(\"==>\", rowData)\r\n        setOpenDialogDelete(true)\r\n        setPhieuDelete(rowData)\r\n    }\r\n\r\n    const onCancelDelete = () => {\r\n        setOpenDialogDelete(false)\r\n        setPhieuDelete()\r\n    }\r\n\r\n    const onOkDelete = async () => {\r\n        const res = await deletePhieu(phieuDelete)\r\n        if (res.status === 200) {\r\n            toast.success(\"Xoa tour thanh cong\")\r\n        } else {\r\n            toast.error(\"Loi !!!\")\r\n        }\r\n        onCancelDelete()\r\n        await getPhieuDatFromBackEnd()\r\n    }\r\n\r\n    // =============================\r\n\r\n    // ========== Them =============\r\n    const handleClickAdd = () => {\r\n        setOpenDialogAdd(true)\r\n    }\r\n\r\n    const cancelDialogAdd = async () => {\r\n        setOpenDialogAdd(false)\r\n        setPhieuEdit()\r\n        getPhieuDatFromBackEnd()\r\n    }\r\n\r\n    // ============================\r\n\r\n    const onClickIconEdit = (rowData) => {\r\n        setPhieuEdit(rowData)\r\n        setOpenDialogAdd(true)\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPhieuDatFromBackEnd()\r\n    }, [])\r\n\r\n    return (\r\n        <Styled>\r\n            <div className=\"m-sm-30\">\r\n                <Breadcrumb style={{ padding: '0 0 30px 0' }}>\r\n                    <Breadcrumb.Item href=\"/\">\r\n                        <HomeFilled />\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item href=\"/conclude/manage\">\r\n                        <span>Quản lý nhân viên</span>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>Tạo mới</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n                <div className='set-space-between'>\r\n                    <Button size=\"middle\"\r\n                        onClick={handleClickAdd}\r\n                        className=\"btn-add-new\"\r\n                    >\r\n                        TẠO MỚI\r\n                    </Button>\r\n                    <SearchStaff\r\n                        searchInfo={searchInfo} setSearchInfo={setSearchInfo} onSearch={onSearch}\r\n                    />\r\n                </div>\r\n\r\n                {\r\n                    openDialogAdd &&\r\n                    <PendingDialog\r\n                        item={phieuEdit}\r\n                        open={openDialogAdd}\r\n                        onCancel={cancelDialogAdd}\r\n                    />\r\n                }\r\n\r\n                {\r\n                    openDialogDelete &&\r\n                    <DialogDelete\r\n                        open={openDialogDelete}\r\n                        onOk={onOkDelete}\r\n                        onCancel={onCancelDelete}\r\n                    />\r\n                }\r\n\r\n\r\n                <Table\r\n                    dataSource={returnTour()}\r\n                    columns={[\r\n                        {\r\n                            key: 'action',\r\n                            title: 'Thao tác',\r\n                            dataIndex: 'action',\r\n                            align: 'center',\r\n                            width: 100,\r\n                            render: (text, rowData) => {\r\n                                return (\r\n                                    <div\r\n                                        className='createStaff-action'\r\n                                        style={{ gap: \"16px 16px\" }}\r\n                                    >\r\n                                        <Tooltip placement=\"bottom\" title=\"chỉnh sửa\">\r\n                                            <EditFilled\r\n                                                style={{ color: \"blue\" }}\r\n                                                onClick={() => onClickIconEdit(rowData)}\r\n                                            />\r\n                                        </Tooltip>\r\n\r\n                                        <Tooltip placement=\"bottom\" title=\"xóa\">\r\n                                            <DeleteFilled\r\n                                                style={{ color: \"red\" }}\r\n                                                onClick={() => onClickIconDelete(rowData)}\r\n                                            />\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                );\r\n                            },\r\n                        },\r\n                        { title: 'Ten', dataIndex: 'ten' },\r\n                        { title: 'Dia chi', dataIndex: 'diaChi' },\r\n                        { title: 'SDT', dataIndex: 'sdt' },\r\n                        { title: 'Email', dataIndex: 'email' },\r\n                        {\r\n                            title: 'Ngay tao',\r\n                            render: (rowData) => moment(rowData.createDate, 'YYYY-MM-DD').format('DD-MM-YYYY')\r\n                        },\r\n                        {\r\n                            title: 'Tre em',\r\n                            dataIndex: \"treEm\"\r\n                        },\r\n                        {\r\n                            title: 'Tre nho',\r\n                            dataIndex: \"treNho\"\r\n                        },\r\n                        {\r\n                            title: 'Nguoi lon',\r\n                            dataIndex: \"nguoiLon\"\r\n                        },\r\n                        {\r\n                            title: 'Ghi chu',\r\n                            dataIndex: \"ghiChu\"\r\n                        },\r\n                        { title: 'id tour', dataIndex: [\"chiTietTour\", \"idChiTiet\"] },\r\n\r\n                    ]}\r\n                    pagination={{\r\n                        showSizeChanger: true,\r\n                        pageSizeOptions: ['5', '10', '20'],\r\n                    }}\r\n                    scroll={{ y: 440 }}\r\n                />\r\n            </div>\r\n        </Styled>\r\n    )\r\n}\r\n\r\nexport default Pending\r\n\r\n/**\r\n             \"ten\": \"duc anh 1\",\r\n            \"diaChi\": \"bac ninh\",\r\n            \"sdt\": \"971533818\",\r\n            \"email\": \"ducanh@gmail.com\",\r\n    *      \"createDate\": \"2023-04-13\",\r\n         \"treEm\": 3,\r\n        \"treNho\": 3,\r\n        \"nguoiLon\": 4,\r\n        \"ghiChu\": \"nay anynay\",\r\n        \"chiTietTour\": {\r\n            \"idChiTiet\": 1,\r\n        }\r\n */"]},"metadata":{},"sourceType":"module"}